!function(e){var t={};function n(g){if(t[g])return t[g].exports;var r=t[g]={i:g,l:!1,exports:{}};return e[g].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,g){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:g})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var g=Object.create(null);if(n.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(g,r,function(t){return e[t]}.bind(null,r));return g},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzPzVkMDMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/autobind-decorator/lib/esm/index.js\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Return a descriptor removing the value and returning a getter\n * The getter will return a .bind version of the function\n * and memoize the result against a symbol on the instance\n */\nfunction boundMethod(target, key, descriptor) {\n  var fn = descriptor.value;\n\n  if (typeof fn !== \'function\') {\n    throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(_typeof(fn)));\n  } // In IE11 calling Object.defineProperty has a side-effect of evaluating the\n  // getter for the property which is being replaced. This causes infinite\n  // recursion and an "Out of stack space" error.\n\n\n  var definingProperty = false;\n  return {\n    configurable: true,\n    get: function get() {\n      // eslint-disable-next-line no-prototype-builtins\n      if (definingProperty || this === target.prototype || this.hasOwnProperty(key) || typeof fn !== \'function\') {\n        return fn;\n      }\n\n      var boundFn = fn.bind(this);\n      definingProperty = true;\n      Object.defineProperty(this, key, {\n        configurable: true,\n        get: function get() {\n          return boundFn;\n        },\n        set: function set(value) {\n          fn = value;\n          delete this[key];\n        }\n      });\n      definingProperty = false;\n      return boundFn;\n    },\n    set: function set(value) {\n      fn = value;\n    }\n  };\n}\n/**\n * Use boundMethod to bind all methods on the target.prototype\n */\n\nfunction boundClass(target) {\n  // (Using reflect to get all keys including symbols)\n  var keys; // Use Reflect if exists\n\n  if (typeof Reflect !== \'undefined\' && typeof Reflect.ownKeys === \'function\') {\n    keys = Reflect.ownKeys(target.prototype);\n  } else {\n    keys = Object.getOwnPropertyNames(target.prototype); // Use symbols if support is provided\n\n    if (typeof Object.getOwnPropertySymbols === \'function\') {\n      keys = keys.concat(Object.getOwnPropertySymbols(target.prototype));\n    }\n  }\n\n  keys.forEach(function (key) {\n    // Ignore special case target method\n    if (key === \'constructor\') {\n      return;\n    }\n\n    var descriptor = Object.getOwnPropertyDescriptor(target.prototype, key); // Only methods need binding\n\n    if (typeof descriptor.value === \'function\') {\n      Object.defineProperty(target.prototype, key, boundMethod(target, key, descriptor));\n    }\n  });\n  return target;\n}\nfunction autobind() {\n  if (arguments.length === 1) {\n    return boundClass.apply(void 0, arguments);\n  }\n\n  return boundMethod.apply(void 0, arguments);\n}\n// CONCATENATED MODULE: ./src/models/core.js\nvar _class;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if (\'value\' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\nvar Core = (_class = /*#__PURE__*/function () {\n  function Core(_ref) {\n    var inputsHandler = _ref.inputsHandler,\n        renderer = _ref.renderer,\n        state = _ref.state;\n\n    _classCallCheck(this, Core);\n\n    this.inputsHandler = inputsHandler;\n    this.renderer = renderer;\n    this.state = state;\n  }\n\n  _createClass(Core, [{\n    key: "loop",\n    value: function loop(timestamp) {\n      this.state = this.state.processInput(this.inputsHandler, timestamp).update(timestamp);\n      this.render(timestamp);\n      window.requestAnimationFrame(this.loop.bind(this));\n    }\n  }, {\n    key: "render",\n    value: function render(timestamp) {\n      this.renderer.render(_objectSpread({}, this.state, {\n        timestamp: timestamp\n      }));\n    }\n  }]);\n\n  return Core;\n}(), (_applyDecoratedDescriptor(_class.prototype, "loop", [autobind], Object.getOwnPropertyDescriptor(_class.prototype, "loop"), _class.prototype)), _class);\n\n// CONCATENATED MODULE: ./src/models/chunk.js\nfunction chunk_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction chunk_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { chunk_ownKeys(Object(source), true).forEach(function (key) { chunk_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { chunk_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction chunk_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction chunk_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction chunk_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction chunk_createClass(Constructor, protoProps, staticProps) { if (protoProps) chunk_defineProperties(Constructor.prototype, protoProps); if (staticProps) chunk_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar lastId = 0;\n\nvar Chunk = /*#__PURE__*/function () {\n  function Chunk(_ref) {\n    var blocks = _ref.blocks,\n        _ref$id = _ref.id,\n        id = _ref$id === void 0 ? lastId++ : _ref$id,\n        _ref$x = _ref.x,\n        x = _ref$x === void 0 ? 0 : _ref$x,\n        _ref$y = _ref.y,\n        y = _ref$y === void 0 ? 0 : _ref$y;\n\n    chunk_classCallCheck(this, Chunk);\n\n    this.blocks = blocks;\n    this.id = id;\n    this.x = x;\n    this.y = y;\n  }\n\n  chunk_createClass(Chunk, [{\n    key: "move",\n    value: function move(_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          dx = _ref3[0],\n          dy = _ref3[1];\n\n      return new this.constructor(chunk_objectSpread({}, this, {\n        x: this.x + dx,\n        y: this.y + dy\n      }));\n    }\n  }]);\n\n  return Chunk;\n}();\n\n\n// CONCATENATED MODULE: ./src/enums/direction.js\n/* harmony default export */ var direction = ({\n  CLOCKWISE: 1,\n  COUNTERCLOCKWISE: -1,\n  DOWN: [0, 1],\n  LEFT: [-1, 0],\n  RIGHT: [1, 0]\n});\n// CONCATENATED MODULE: ./src/models/tetrimino.js\nfunction tetrimino_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { tetrimino_typeof = function _typeof(obj) { return typeof obj; }; } else { tetrimino_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return tetrimino_typeof(obj); }\n\nfunction tetrimino_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction tetrimino_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { tetrimino_ownKeys(Object(source), true).forEach(function (key) { tetrimino_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { tetrimino_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction tetrimino_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction tetrimino_slicedToArray(arr, i) { return tetrimino_arrayWithHoles(arr) || tetrimino_iterableToArrayLimit(arr, i) || tetrimino_unsupportedIterableToArray(arr, i) || tetrimino_nonIterableRest(); }\n\nfunction tetrimino_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction tetrimino_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return tetrimino_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return tetrimino_arrayLikeToArray(o, minLen); }\n\nfunction tetrimino_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction tetrimino_iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction tetrimino_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction tetrimino_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction tetrimino_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction tetrimino_createClass(Constructor, protoProps, staticProps) { if (protoProps) tetrimino_defineProperties(Constructor.prototype, protoProps); if (staticProps) tetrimino_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (tetrimino_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n/* .  .  .  .    .  .  4  .    .  .  .  .    .  2  .  .\n   1  2  4  8    .  .  4  .    .  .  .  .    .  2  .  .\n   .  .  .  .    .  .  4  .    1  2  4  8    .  2  .  .\n   .  .  .  .    .  .  4  .    .  .  .  .    .  2  .  .\n     0x00f0        0x4444        0x0f00        0x2222\n\n   1  .  .    .  2  4    .  .  .    .  2  .\n   1  2  4    .  2  .    1  2  4    .  2  .\n   .  .  .    .  2  .    .  .  4    1  2  .\n    0x071      0x226      0x470      0x322\n\n   .  .  4    .  2  .    .  .  .    1  2  .\n   1  2  4    .  2  .    1  2  4    .  2  .\n   .  .  .    .  2  4    1  .  .    .  2  .\n    0x074      0x622      0x170      0x223\n\n   1  2\n   1  2\n   0x33\n\n   .  2  4    .  2  .    .  .  .    1  .  .\n   1  2  .    .  2  4    .  2  4    1  2  .\n   .  .  .    .  .  4    1  2  .    .  2  .\n   .  .  .    .  .  .    .  .  .    .  .  .\n    0x036      0x462      0x360      0x231\n\n   .  2  .    .  2  .    .  .  .    .  2  .\n   1  2  4    .  2  4    1  2  4    1  2  .\n   .  .  .    .  2  .    .  2  .    .  2  .\n    0x072      0x262      0x270      0x232\n\n   1  2  .    .  .  4    .  .  .    .  2  .\n   .  2  4    .  2  4    1  2  .    1  2  .\n   .  .  .    .  2  .    .  2  4    1  .  .\n    0x063      0x264      0x630      0x132  */\n\nvar ENCODED_BLOCKS = [[\'00f0\', \'4444\', \'0f00\', \'2222\'], [\'071\', \'226\', \'470\', \'322\'], [\'074\', \'622\', \'170\', \'223\'], [\'33\'], [\'036\', \'462\', \'360\', \'231\'], [\'072\', \'262\', \'270\', \'232\'], [\'063\', \'264\', \'630\', \'132\']];\nvar BLOCKS = ENCODED_BLOCKS.map(function (encodedBlocks) {\n  return encodedBlocks.map(function (encodedBlock) {\n    var blocks = [];\n    var i = 1;\n    var row;\n\n    for (var y = 0; y < encodedBlock.length; y++) {\n      /* eslint-disable no-bitwise */\n      row = parseInt(encodedBlock, 16) >> y * 4 & Math.pow(2, encodedBlock.length) - 1;\n      blocks[y] = [];\n\n      for (var x = 0; x < encodedBlock.length; x++) {\n        blocks[y][x] = row & Math.pow(2, x) ? i++ : null;\n      }\n      /* eslint-enable no-bitwise */\n\n    }\n\n    return blocks;\n  });\n});\nvar SHAPES = \'ijlostz\'.split(\'\');\n\nvar Tetrimino = /*#__PURE__*/function (_Chunk) {\n  _inherits(Tetrimino, _Chunk);\n\n  var _super = _createSuper(Tetrimino);\n\n  function Tetrimino(_ref) {\n    var _this;\n\n    var id = _ref.id,\n        _ref$rotation = _ref.rotation,\n        rotation = _ref$rotation === void 0 ? 0 : _ref$rotation,\n        shape = _ref.shape,\n        x = _ref.x,\n        y = _ref.y;\n\n    tetrimino_classCallCheck(this, Tetrimino);\n\n    _this = _super.call(this, {\n      blocks: BLOCKS[SHAPES.indexOf(shape)][rotation],\n      id: id,\n      x: x,\n      y: y\n    });\n    _this.rotation = rotation;\n    _this.shape = shape;\n    return _this;\n  }\n\n  tetrimino_createClass(Tetrimino, [{\n    key: "moveTo",\n    value: function moveTo(_ref2) {\n      var _ref3 = tetrimino_slicedToArray(_ref2, 2),\n          x = _ref3[0],\n          y = _ref3[1];\n\n      return new Tetrimino(tetrimino_objectSpread({}, this, {\n        x: x,\n        y: y\n      }));\n    }\n  }, {\n    key: "rotate",\n    value: function rotate(direction) {\n      var rotation = (this.rotation + direction % 4 + 4) % 4;\n      return new Tetrimino(tetrimino_objectSpread({}, this, {\n        blocks: BLOCKS[SHAPES.indexOf(this.shape)][rotation],\n        rotation: rotation\n      }));\n    }\n  }]);\n\n  return Tetrimino;\n}(Chunk);\n\n\n// CONCATENATED MODULE: ./src/models/game.js\nvar game_class;\n\nfunction game_slicedToArray(arr, i) { return game_arrayWithHoles(arr) || game_iterableToArrayLimit(arr, i) || game_unsupportedIterableToArray(arr, i) || game_nonIterableRest(); }\n\nfunction game_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction game_iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction game_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction game_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction game_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { game_ownKeys(Object(source), true).forEach(function (key) { game_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { game_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction game_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || game_unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction game_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return game_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return game_arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return game_arrayLikeToArray(arr); }\n\nfunction game_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction game_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction game_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction game_createClass(Constructor, protoProps, staticProps) { if (protoProps) game_defineProperties(Constructor.prototype, protoProps); if (staticProps) game_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction game_applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if (\'value\' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\n\n\n\nvar I_WALL_KICKS_TABLE = [[[0, 0], [-2, 0], [1, 0], [-2, -1], [1, 2]], [[0, 0], [-1, 0], [2, 0], [-1, 2], [2, -1]], [[0, 0], [2, 0], [-1, 0], [2, 1], [-1, -2]], [[0, 0], [1, 0], [-2, 0], [1, -2], [-2, 1]]];\nvar JLSTZ_WALL_KICKS_TABLE = [[[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]], [[0, 0], [1, 0], [1, -1], [0, 2], [1, 2]], [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]], [[0, 0], [-1, 0], [-1, -1], [0, 2], [-1, 2]]];\nvar LINE_CLEARS = [0, 1, 3, 5, 8];\nvar byId = Symbol(\'byId\');\nvar currentId = Symbol(\'currentId\');\n\nvar game_createRandomTetrimino = function createRandomTetrimino() {\n  return new Tetrimino({\n    shape: SHAPES[Math.floor(Math.random() * SHAPES.length)]\n  });\n};\n\nvar game_Game = (game_class = /*#__PURE__*/function () {\n  function Game() {\n    var _args$byId;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$fullLinesIndexes = _ref.fullLinesIndexes,\n        fullLinesIndexes = _ref$fullLinesIndexes === void 0 ? [] : _ref$fullLinesIndexes,\n        _ref$height = _ref.height,\n        height = _ref$height === void 0 ? 20 : _ref$height,\n        _ref$level = _ref.level,\n        level = _ref$level === void 0 ? 0 : _ref$level,\n        _ref$lineClears = _ref.lineClears,\n        lineClears = _ref$lineClears === void 0 ? 0 : _ref$lineClears,\n        queue = _ref.queue,\n        stack = _ref.stack,\n        tetrimino = _ref.tetrimino,\n        _ref$width = _ref.width,\n        width = _ref$width === void 0 ? 10 : _ref$width,\n        args = _objectWithoutProperties(_ref, ["fullLinesIndexes", "height", "level", "lineClears", "queue", "stack", "tetrimino", "width"]);\n\n    game_classCallCheck(this, Game);\n\n    this.fullLinesIndexes = fullLinesIndexes;\n    this.height = stack ? stack.length : height;\n    this.level = level;\n    this.lineClears = lineClears;\n    this.width = stack ? stack[0].length : width;\n    this.stack = stack || _toConsumableArray(new Array(height)).map(function () {\n      return _toConsumableArray(new Array(width));\n    });\n    this.queue = queue || [];\n    this[byId] = tetrimino ? game_objectSpread({}, args[byId], game_defineProperty({}, tetrimino.id, tetrimino)) : (_args$byId = args[byId]) !== null && _args$byId !== void 0 ? _args$byId : {};\n    this[currentId] = tetrimino === null || tetrimino === void 0 ? void 0 : tetrimino.id;\n  }\n\n  game_createClass(Game, [{\n    key: "clearLines",\n    value: function clearLines() {\n      this.lineClears += LINE_CLEARS[this.fullLinesIndexes.length];\n\n      if (this.lineClears >= (this.level + 1) * 5) {\n        this.level += 1;\n      }\n\n      return this.emptyFullLines().dropLockedBlocks();\n    }\n  }, {\n    key: "dropLockedBlocks",\n    value: function dropLockedBlocks() {\n      var fullLinesIndexes = this.fullLinesIndexes.slice();\n      var game = this;\n      var end;\n\n      while (end = fullLinesIndexes.shift()) {\n        var start = fullLinesIndexes[0] || 0;\n        game = game.extractChunks(start, end).reverse().map(game.hardDropChunk).reduce(function (state, chunk) {\n          return state.lockChunk(chunk);\n        }, game);\n      }\n\n      return new Game(game_objectSpread({}, game, {\n        fullLinesIndexes: fullLinesIndexes\n      }));\n    }\n  }, {\n    key: "emptyFullLines",\n    value: function emptyFullLines() {\n      var _this = this;\n\n      var stack = this.stack.slice();\n      return new Game(game_objectSpread({}, this, {\n        stack: stack.map(function (line, index) {\n          return _this.fullLinesIndexes.includes(index) ? _toConsumableArray(new Array(_this.width)) : line;\n        })\n      }));\n    }\n  }, {\n    key: "extractChunks",\n    value: function extractChunks(start, end) {\n      var _this2 = this;\n\n      var chunks = [];\n      var chunk;\n\n      var _loop = function _loop(y) {\n        var _loop2 = function _loop2(x) {\n          if (_this2.isEmpty(x, y)) return "continue";\n          chunk = chunks.find(function (chk) {\n            return chk.includes("".concat(x, ",").concat(y)) || chk.includes("".concat(x + 1, ",").concat(y));\n          });\n\n          if (!chunk) {\n            chunks.push([]);\n            chunk = chunks[chunks.length - 1];\n          }\n\n          if (!_this2.isEmpty(x + 1, y) && !chunk.includes("".concat(x + 1, ",").concat(y))) {\n            chunk.push("".concat(x + 1, ",").concat(y));\n          }\n\n          if (!_this2.isEmpty(x, y + 1) && !chunk.includes("".concat(x, ",").concat(y + 1))) {\n            chunk.push("".concat(x, ",").concat(y + 1));\n          }\n\n          if (!chunk.includes("".concat(x, ",").concat(y))) chunk.push("".concat(x, ",").concat(y));\n        };\n\n        for (var x = 0; x < _this2.width; x++) {\n          var _ret = _loop2(x);\n\n          if (_ret === "continue") continue;\n        }\n      };\n\n      for (var y = start; y < end; y++) {\n        _loop(y);\n      }\n\n      return chunks.map(function (strings) {\n        var coordinates = strings.map(function (string) {\n          return string.split(\',\');\n        });\n        var xMax = Math.max.apply(Math, _toConsumableArray(coordinates.map(function (_ref2) {\n          var _ref3 = game_slicedToArray(_ref2, 1),\n              x = _ref3[0];\n\n          return x;\n        })));\n        var xMin = Math.min.apply(Math, _toConsumableArray(coordinates.map(function (_ref4) {\n          var _ref5 = game_slicedToArray(_ref4, 1),\n              x = _ref5[0];\n\n          return x;\n        })));\n        var yMax = Math.max.apply(Math, _toConsumableArray(coordinates.map(function (_ref6) {\n          var _ref7 = game_slicedToArray(_ref6, 2),\n              y = _ref7[1];\n\n          return y;\n        })));\n        var yMin = Math.min.apply(Math, _toConsumableArray(coordinates.map(function (_ref8) {\n          var _ref9 = game_slicedToArray(_ref8, 2),\n              y = _ref9[1];\n\n          return y;\n        })));\n\n        var blocks = _toConsumableArray(new Array(yMax - yMin + 1)).map(function () {\n          return _toConsumableArray(new Array(xMax - xMin + 1));\n        });\n\n        coordinates.forEach(function (_ref10) {\n          var _ref11 = game_slicedToArray(_ref10, 2),\n              x = _ref11[0],\n              y = _ref11[1];\n\n          blocks[y - yMin][x - xMin] = _this2.stack[y][x];\n          _this2.stack[y][x] = null; // @todo: do not mutate stack\n        });\n        return new Chunk({\n          blocks: blocks,\n          x: xMin,\n          y: yMin\n        });\n      });\n    }\n  }, {\n    key: "hardDropChunk",\n    value: function hardDropChunk(chunk) {\n      var next = chunk;\n\n      while (this.isValidChunk(next.move(direction.DOWN))) {\n        next = next.move(direction.DOWN);\n      }\n\n      return next;\n    }\n  }, {\n    key: "hardDropTetrimino",\n    value: function hardDropTetrimino() {\n      return new Game(game_objectSpread({}, this, {\n        tetrimino: this.ghost\n      }));\n    }\n  }, {\n    key: "initQueue",\n    value: function initQueue() {\n      var queueSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 3;\n      return new Game(game_objectSpread({}, this, {\n        queue: _toConsumableArray(new Array(queueSize)).map(game_createRandomTetrimino)\n      }));\n    }\n  }, {\n    key: "isEmpty",\n    value: function isEmpty(x, y) {\n      return this.stack[y] && !this.stack[y][x];\n    }\n  }, {\n    key: "isOutOfBounds",\n    value: function isOutOfBounds(x, y) {\n      return x < 0 || x >= this.width || y < 0 || y >= this.height;\n    }\n  }, {\n    key: "isValidChunk",\n    value: function isValidChunk(chunk) {\n      var _this3 = this;\n\n      return chunk.blocks.every(function (line, y) {\n        return line.every(function (block, x) {\n          return !chunk.blocks[y][x] || _this3.isEmpty(chunk.x + x, chunk.y + y) && !_this3.isOutOfBounds(chunk.x + x, chunk.y + y);\n        });\n      });\n    }\n  }, {\n    key: "lockChunk",\n    value: function lockChunk(chunk, willForce) {\n      var stack = this.stack.slice();\n      chunk.blocks.forEach(function (line, y) {\n        return line.forEach(function (block, x) {\n          if (!block) return;\n          stack[chunk.y + y][chunk.x + x] = willForce ? {\n            order: block,\n            tetriminoId: chunk.id\n          } : chunk.blocks[y][x];\n        });\n      });\n      return new Game(game_objectSpread({}, this, {\n        stack: stack\n      }));\n    }\n  }, {\n    key: "lockTetrimino",\n    value: function lockTetrimino() {\n      return new Game(game_objectSpread({}, this.lockChunk(this.tetrimino, true), {\n        tetrimino: null\n      }));\n    }\n  }, {\n    key: "markFullLines",\n    value: function markFullLines() {\n      return new Game(game_objectSpread({}, this, {\n        fullLinesIndexes: this.stack.reduce(function (fullLines, line, index) {\n          return line.every(function (block) {\n            return block;\n          }) ? fullLines.concat(index) : fullLines;\n        }, []).reverse()\n      }));\n    }\n  }, {\n    key: "moveTetrimino",\n    value: function moveTetrimino(_ref12) {\n      var _ref13 = game_slicedToArray(_ref12, 2),\n          x = _ref13[0],\n          y = _ref13[1];\n\n      var next = this.tetrimino.move([x, y]);\n      if (!this.isValidChunk(next)) return this;\n      return new Game(game_objectSpread({}, this, {\n        tetrimino: next\n      }));\n    }\n  }, {\n    key: "reset",\n    value: function reset(options) {\n      return new Game(game_objectSpread({}, options, {\n        height: this.height,\n        width: this.width\n      }));\n    }\n  }, {\n    key: "rotateTetrimino",\n    value: function rotateTetrimino(angle) {\n      if (this.tetrimino.shape === \'o\') return this;\n      var next = this.tetrimino;\n      var index = angle === direction.CLOCKWISE ? next.rotation : next.rotate(angle).rotation;\n      var wallKicks = next.shape === \'i\' ? I_WALL_KICKS_TABLE[index] : JLSTZ_WALL_KICKS_TABLE[index];\n      var i = 0;\n\n      do {\n        var _wallKicks$i = game_slicedToArray(wallKicks[i], 2),\n            x = _wallKicks$i[0],\n            y = _wallKicks$i[1];\n\n        next = this.tetrimino.rotate(angle).move([x * angle, y * angle]);\n      } while (!this.isValidChunk(next) && wallKicks[++i]);\n\n      return i < wallKicks.length ? new Game(game_objectSpread({}, this, {\n        tetrimino: next\n      })) : this;\n    }\n  }, {\n    key: "shiftQueue",\n    value: function shiftQueue() {\n      var queue = this.queue.slice();\n      queue.push(game_createRandomTetrimino());\n      var tetrimino = queue.shift();\n      tetrimino = tetrimino.moveTo([Math.floor((this.width - tetrimino.blocks.length) / 2), 0]);\n      return new Game(game_objectSpread({}, this, {\n        queue: queue,\n        tetrimino: tetrimino\n      }));\n    }\n  }, {\n    key: "ghost",\n    get: function get() {\n      if (!this.tetrimino) return null;\n      return this.hardDropChunk(this.tetrimino);\n    } // cells per frame at 60 fps (cells per second)\n\n  }, {\n    key: "gravity",\n    get: function get() {\n      if (this.level === 0) return 1 / 36;\n      if (this.level === 1) return 1 / 32;\n      if (this.level === 2) return 1 / 29;\n      if (this.level === 3) return 1 / 25;\n      if (this.level === 4) return 1 / 22;\n      if (this.level === 5) return 1 / 18;\n      if (this.level === 6) return 1 / 15;\n      if (this.level === 7) return 1 / 11;\n      if (this.level === 8) return 1 / 7;\n      if (this.level === 9) return 1 / 5;\n      if (this.level <= 12) return 1 / 4;\n      if (this.level <= 15) return 1 / 3;\n      if (this.level <= 18) return 1 / 2;\n      return 1;\n    }\n  }, {\n    key: "tetrimino",\n    get: function get() {\n      return this.tetriminoes.byId[this.tetriminoes.currentId];\n    },\n    set: function set(tetrimino) {\n      this[currentId] = tetrimino.id;\n      this[byId] = game_objectSpread({}, this[byId], game_defineProperty({}, tetrimino.id, tetrimino));\n    }\n  }, {\n    key: "tetriminoes",\n    get: function get() {\n      return {\n        byId: this[byId],\n        currentId: this[currentId]\n      };\n    }\n  }]);\n\n  return Game;\n}(), (game_applyDecoratedDescriptor(game_class.prototype, "hardDropChunk", [autobind], Object.getOwnPropertyDescriptor(game_class.prototype, "hardDropChunk"), game_class.prototype)), game_class);\n\n// CONCATENATED MODULE: ./src/utils/char.js\n/* eslint-disable\n   array-bracket-newline,\n   array-element-newline,\n   comma-spacing,\n   indent */\n/* harmony default export */ var utils_char = ({\n  \'+\': [[0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0]],\n  \'-\': [[0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0]],\n  0: [[0, 0, 1, 1, 1, 0, 0], [0, 1, 0, 0, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 0, 0, 1, 0], [0, 0, 1, 1, 1, 0, 0]],\n  1: [[0, 0, 0, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 1, 1, 1, 1, 1, 1]],\n  2: [[0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [0, 0, 0, 0, 1, 1, 1], [0, 0, 0, 1, 1, 1, 0], [0, 1, 1, 1, 1, 0, 0], [1, 1, 1, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1]],\n  3: [[0, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 1, 1, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  4: [[0, 0, 0, 1, 1, 1, 0], [0, 0, 1, 1, 1, 1, 0], [0, 1, 1, 0, 1, 1, 0], [1, 1, 0, 0, 1, 1, 0], [1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 1, 1, 0], [0, 0, 0, 0, 1, 1, 0]],\n  5: [[1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  6: [[0, 0, 1, 1, 1, 1, 0], [0, 1, 1, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  7: [[1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 0, 0, 0, 1, 1, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0]],\n  8: [[0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  9: [[0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 1, 1, 0], [0, 1, 1, 1, 1, 0, 0]],\n  a: [[0, 0, 1, 1, 1, 0, 0], [0, 1, 1, 0, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  b: [[1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 0]],\n  c: [[0, 0, 1, 1, 1, 1, 0], [0, 1, 1, 0, 0, 1, 1], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [0, 1, 1, 0, 0, 1, 1], [0, 0, 1, 1, 1, 1, 0]],\n  d: [[1, 1, 1, 1, 1, 0, 0], [1, 1, 0, 0, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 1, 1, 0], [1, 1, 1, 1, 1, 0, 0]],\n  e: [[1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1]],\n  f: [[1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0]],\n  g: [[0, 0, 1, 1, 1, 1, 1], [0, 1, 1, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 1, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 0, 0, 1, 1], [0, 0, 1, 1, 1, 1, 1]],\n  h: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  i: [[1, 1, 1, 1, 1, 1, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 0, 0, 0], [1, 1, 1, 1, 1, 1, 0]],\n  j: [[0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 0, 1, 1], [0, 0, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  k: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 1, 1, 0], [1, 1, 0, 1, 1, 0, 0], [1, 1, 1, 1, 0, 0, 0], [1, 1, 1, 1, 1, 0, 0], [1, 1, 0, 1, 1, 1, 0], [1, 1, 0, 0, 1, 1, 1]],\n  l: [[1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1]],\n  m: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 0, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 1, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  n: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 0, 0, 1, 1], [1, 1, 1, 1, 0, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 0, 1, 1, 1, 1], [1, 1, 0, 0, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  o: [[0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  p: [[1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 0, 0], [1, 1, 0, 0, 0, 0, 0]],\n  q: [[0, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 1, 1, 1, 1], [1, 1, 0, 0, 1, 1, 0], [0, 1, 1, 1, 1, 0, 1]],\n  r: [[1, 1, 1, 1, 1, 1, 0], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0], [1, 1, 0, 1, 1, 1, 0], [1, 1, 0, 0, 1, 1, 1]],\n  s: [[0, 1, 1, 1, 1, 0, 0], [1, 1, 0, 0, 1, 1, 0], [1, 1, 0, 0, 0, 0, 0], [0, 1, 1, 1, 1, 1, 0], [0, 0, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  t: [[0, 1, 1, 1, 1, 1, 1], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0]],\n  u: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [0, 1, 1, 1, 1, 1, 0]],\n  v: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 0, 1, 1, 1], [0, 1, 1, 1, 1, 1, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 0, 1, 0, 0, 0]],\n  w: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 0, 0, 1, 1], [1, 1, 0, 1, 0, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 0, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  x: [[1, 1, 0, 0, 0, 1, 1], [1, 1, 1, 0, 1, 1, 1], [0, 1, 1, 1, 1, 1, 0], [0, 0, 1, 1, 1, 0, 0], [0, 1, 1, 1, 1, 1, 0], [1, 1, 1, 0, 1, 1, 1], [1, 1, 0, 0, 0, 1, 1]],\n  y: [[0, 1, 1, 0, 0, 1, 1], [0, 1, 1, 0, 0, 1, 1], [0, 1, 1, 0, 0, 1, 1], [0, 0, 1, 1, 1, 1, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0], [0, 0, 0, 1, 1, 0, 0]],\n  z: [[1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 1, 1, 1], [0, 0, 0, 1, 1, 1, 0], [0, 0, 1, 1, 1, 0, 0], [0, 1, 1, 1, 0, 0, 0], [1, 1, 1, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1]]\n});\n// CONCATENATED MODULE: ./src/enums/state.js\n/* harmony default export */ var enums_state = ({\n  GAME_OVER: \'GAME_OVER\',\n  GRAVITY: \'GRAVITY\',\n  NEW_GAME: \'NEW_GAME\',\n  PAUSED: \'PAUSED\'\n});\n// CONCATENATED MODULE: ./src/models/renderers/game-boy.js\nfunction game_boy_toConsumableArray(arr) { return game_boy_arrayWithoutHoles(arr) || game_boy_iterableToArray(arr) || game_boy_unsupportedIterableToArray(arr) || game_boy_nonIterableSpread(); }\n\nfunction game_boy_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction game_boy_iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction game_boy_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return game_boy_arrayLikeToArray(arr); }\n\nfunction game_boy_slicedToArray(arr, i) { return game_boy_arrayWithHoles(arr) || game_boy_iterableToArrayLimit(arr, i) || game_boy_unsupportedIterableToArray(arr, i) || game_boy_nonIterableRest(); }\n\nfunction game_boy_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction game_boy_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return game_boy_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return game_boy_arrayLikeToArray(o, minLen); }\n\nfunction game_boy_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction game_boy_iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction game_boy_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar BLINK_DURATION = 200;\nvar BLOCK_PIXEL_SIZE = 3;\nvar BLOCK_PIXELS = 8;\nvar BLOCK_SIZE = BLOCK_PIXELS * BLOCK_PIXEL_SIZE;\nvar CHAR_PIXEL_SIZE = 2;\nvar CHAR_PIXELS = 7; // const colors = [\'#414141\', \'#6b7353\', \'#8b956d\', \'#c4cfa1\'];\n\nvar colors = [\'#272718\', \'#686850\', \'#a0a086\', \'#c7c7a7\'];\nvar tetriminoSize = {\n  i: [4, 1],\n  j: [3, 2],\n  l: [3, 2],\n  o: [2, 2],\n  s: [3, 2],\n  t: [3, 2],\n  z: [3, 2]\n};\n\nvar initCanvas = function initCanvas(id, _ref) {\n  var height = _ref.height,\n      _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? BLOCK_SIZE : _ref$scale,\n      width = _ref.width;\n  var canvas = id ? document.getElementById(id) : document.createElement(\'canvas\');\n  var ctx = canvas.getContext(\'2d\');\n  canvas.height = scale * height;\n  canvas.width = scale * width;\n  ctx.font = "".concat(BLOCK_SIZE * 0.8, "px \\"source code pro\\"");\n  ctx.textAlign = \'center\';\n  ctx.textBaseline = \'middle\';\n  return [ctx, canvas];\n};\n\ndocument.documentElement.style.setProperty(\'--color-0\', colors[0]);\ndocument.documentElement.style.setProperty(\'--color-1\', colors[1]);\ndocument.documentElement.style.setProperty(\'--color-2\', colors[2]);\ndocument.documentElement.style.setProperty(\'--color-3\', colors[3]);\n/* harmony default export */ var game_boy = (function (_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width;\n\n  var _initCanvas = initCanvas(\'gameBoard\', {\n    height: height,\n    width: width\n  }),\n      _initCanvas2 = game_boy_slicedToArray(_initCanvas, 1),\n      gameBoardCtx = _initCanvas2[0];\n\n  var _initCanvas3 = initCanvas(\'dialogBox\', {\n    height: (CHAR_PIXELS + 1) * (3 + 2) - 1,\n    scale: CHAR_PIXEL_SIZE,\n    width: (CHAR_PIXELS + 1) * (10 + 2) - 1\n  }),\n      _initCanvas4 = game_boy_slicedToArray(_initCanvas3, 2),\n      dialogBoxCtx = _initCanvas4[0],\n      dialogBoxCanvas = _initCanvas4[1];\n\n  var queueCanvas = [];\n  var queueCtx = [];\n\n  var drawChar = function drawChar(character, ctx, isActive) {\n    if (character === \' \') return;\n    utils_char[character.toLowerCase()].forEach(function (row, y) {\n      row.forEach(function (value, x) {\n        if (value) {\n          ctx.fillStyle = isActive ? colors[3] : colors[0];\n          ctx.fillRect(x * CHAR_PIXEL_SIZE, y * CHAR_PIXEL_SIZE, CHAR_PIXEL_SIZE, CHAR_PIXEL_SIZE);\n        }\n      });\n    });\n  };\n\n  var printString = function printString(string, lineNumber, ctx, isActive) {\n    ctx.fillStyle = isActive ? colors[0] : colors[3];\n    ctx.fillRect((CHAR_PIXELS - 4) * CHAR_PIXEL_SIZE, ((lineNumber + 1) * (CHAR_PIXELS + 1) - 4) * CHAR_PIXEL_SIZE, ((CHAR_PIXELS + 1) * 10 - 1 + 8) * CHAR_PIXEL_SIZE, (CHAR_PIXELS + 8) * CHAR_PIXEL_SIZE);\n    string.split(\'\').forEach(function (character, i) {\n      ctx.save();\n      ctx.translate(((i + 1) * (CHAR_PIXELS + 1) - 1) * CHAR_PIXEL_SIZE, (lineNumber + 1) * (CHAR_PIXELS + 1) * CHAR_PIXEL_SIZE);\n      drawChar(character, ctx, isActive);\n      ctx.restore();\n    });\n  };\n\n  game_boy_toConsumableArray(new Array(1)).forEach(function (tetrimino, i) {\n    var _initCanvas5 = initCanvas(null, {\n      height: 4,\n      width: 4\n    }),\n        _initCanvas6 = game_boy_slicedToArray(_initCanvas5, 2),\n        ctx = _initCanvas6[0],\n        canvas = _initCanvas6[1];\n\n    queueCanvas[i] = canvas;\n    queueCtx[i] = ctx;\n    document.getElementById(\'queue\').appendChild(canvas);\n  });\n\n  var renderIBlock = function renderIBlock(x, y, ctx, tetrimino, order) {\n    var drawPoint = function drawPoint(dx, dy) {\n      return ctx.fillRect(x * BLOCK_SIZE + dx * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + dy * BLOCK_PIXEL_SIZE, BLOCK_PIXEL_SIZE, BLOCK_PIXEL_SIZE);\n    };\n\n    if (tetrimino.rotation % 2) {\n      ctx.save();\n      ctx.translate((x + 0.5) * BLOCK_SIZE, (y + 0.5) * BLOCK_SIZE);\n      ctx.rotate(90 * Math.PI / 180);\n      ctx.translate(-(x + 0.5) * BLOCK_SIZE, -(y + 0.5) * BLOCK_SIZE);\n    }\n\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n\n    switch (order) {\n      case 1:\n        ctx.fillStyle = colors[2];\n        ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n        ctx.fillStyle = colors[1];\n        drawPoint(2, 1);\n        drawPoint(5, 1);\n        drawPoint(1, 3);\n        drawPoint(4, 3);\n        drawPoint(6, 3);\n        drawPoint(2, 5);\n        drawPoint(6, 5);\n        drawPoint(4, 6);\n        break;\n\n      case 4:\n        ctx.fillStyle = colors[2];\n        ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n        ctx.fillStyle = colors[1];\n        drawPoint(0, 1);\n        drawPoint(1, 4);\n        drawPoint(2, 2);\n        drawPoint(2, 6);\n        drawPoint(3, 4);\n        drawPoint(4, 1);\n        drawPoint(4, 6);\n        drawPoint(5, 3);\n        drawPoint(6, 5);\n        break;\n\n      default:\n        ctx.fillStyle = colors[2];\n        ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n        ctx.fillStyle = colors[1];\n        drawPoint(0, 1);\n        drawPoint(2, 1);\n        drawPoint(4, 1);\n        drawPoint(6, 2);\n        drawPoint(2, 3);\n        drawPoint(0, 4);\n        drawPoint(5, 4);\n        drawPoint(3, 5);\n        drawPoint(7, 5);\n        drawPoint(1, 6);\n        drawPoint(5, 6);\n    }\n\n    if (tetrimino.rotation % 2) {\n      ctx.restore();\n    }\n  };\n\n  var renderJBlock = function renderJBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.fillStyle = colors[2];\n    ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE);\n    ctx.clearRect(x * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderLBlock = function renderLBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.fillStyle = colors[1];\n    ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderOBlock = function renderOBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.clearRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderSBlock = function renderSBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.fillStyle = colors[1];\n    ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE);\n    ctx.clearRect(x * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderTBlock = function renderTBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.fillStyle = colors[2];\n    ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[3];\n    ctx.fillRect(x * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 5 * BLOCK_PIXEL_SIZE, BLOCK_PIXEL_SIZE, BLOCK_PIXEL_SIZE);\n    ctx.fillRect(x * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 5 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 5 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[2];\n    ctx.fillRect(x * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderZBlock = function renderZBlock(x, y, ctx) {\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    ctx.fillStyle = colors[2];\n    ctx.fillRect(x * BLOCK_SIZE + BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n    ctx.fillStyle = colors[0];\n    ctx.fillRect(x * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, y * BLOCK_SIZE + 3 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 6 * BLOCK_PIXEL_SIZE);\n  };\n\n  var renderBlock = function renderBlock(x, y, tetrimino, order) {\n    var ctx = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : gameBoardCtx;\n\n    switch (tetrimino === null || tetrimino === void 0 ? void 0 : tetrimino.shape) {\n      case \'i\':\n        renderIBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'j\':\n        renderJBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'l\':\n        renderLBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'o\':\n        renderOBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'s\':\n        renderSBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'t\':\n        renderTBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      case \'z\':\n        renderZBlock(x, y, ctx, tetrimino, order);\n        break;\n\n      default:\n        ctx.fillStyle = colors[0];\n        ctx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n    }\n  };\n\n  var renderLockedBlocks = function renderLockedBlocks(_ref3) {\n    var fullLinesIndexes = _ref3.fullLinesIndexes,\n        stack = _ref3.stack,\n        startedAt = _ref3.startedAt,\n        tetriminoes = _ref3.tetriminoes,\n        timestamp = _ref3.timestamp;\n    gameBoardCtx.clearRect(0, 0, width * BLOCK_SIZE, height * BLOCK_SIZE);\n\n    for (var y = 0; y < stack.length; y++) {\n      for (var x = 0; x < stack[y].length; x++) {\n        if (!stack[y][x]) continue;\n\n        if (fullLinesIndexes.includes(y) && Math.floor((timestamp - startedAt) / BLINK_DURATION) % 2) {\n          gameBoardCtx.fillStyle = colors[2];\n          gameBoardCtx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n        } else {\n          renderBlock(x, y, tetriminoes.byId[stack[y][x].tetriminoId], stack[y][x].order);\n        }\n      }\n    }\n  };\n\n  var renderGhost = function renderGhost(ghost) {\n    if (!ghost) return;\n\n    for (var y = 0; y < ghost.blocks.length; y++) {\n      for (var x = 0; x < ghost.blocks[y].length; x++) {\n        if (!ghost.blocks[y][x]) continue;\n        gameBoardCtx.clearRect(ghost.x * BLOCK_SIZE + x * BLOCK_SIZE, ghost.y * BLOCK_SIZE + y * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n        gameBoardCtx.fillStyle = colors[2];\n        gameBoardCtx.fillRect((ghost.x + x) * BLOCK_SIZE + BLOCK_PIXEL_SIZE, (ghost.y + y) * BLOCK_SIZE + BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 2 * BLOCK_PIXEL_SIZE);\n        gameBoardCtx.clearRect((ghost.x + x) * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, (ghost.y + y) * BLOCK_SIZE + 2 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE, BLOCK_SIZE - 4 * BLOCK_PIXEL_SIZE);\n      }\n    }\n  };\n\n  var renderQueue = function renderQueue(queue) {\n    queueCtx.forEach(function (ctx, i) {\n      var tetrimino = queue[i];\n      if (!tetrimino) return;\n      queueCanvas[i].width = BLOCK_SIZE * tetriminoSize[tetrimino.shape][0];\n      queueCanvas[i].height = BLOCK_SIZE * tetriminoSize[tetrimino.shape][1];\n      ctx.clearRect(0, 0, tetriminoSize[tetrimino.shape][0] * BLOCK_SIZE, tetriminoSize[tetrimino.shape][1] * BLOCK_SIZE);\n      ctx.font = \'20px "source code pro"\';\n      ctx.fillStyle = \'white\';\n      ctx.textAlign = \'center\';\n      ctx.textBaseline = \'middle\';\n\n      for (var y = 0; y < tetriminoSize[tetrimino.shape][1]; y++) {\n        for (var x = 0; x < tetriminoSize[tetrimino.shape][0]; x++) {\n          if (!tetrimino.blocks[y][x] && tetrimino.shape !== \'i\') continue;\n          renderBlock(x, y, tetrimino, tetrimino.blocks[y][x] || x + 1, ctx);\n        }\n      }\n    });\n  };\n\n  var renderTetrimino = function renderTetrimino(tetrimino) {\n    for (var y = 0; y < tetrimino.blocks.length; y++) {\n      for (var x = 0; x < tetrimino.blocks[y].length; x++) {\n        if (!tetrimino.blocks[y][x]) continue;\n        gameBoardCtx.clearRect((tetrimino.x + x) * BLOCK_SIZE, (tetrimino.y + y) * BLOCK_SIZE, BLOCK_SIZE, BLOCK_SIZE);\n        gameBoardCtx.fillStyle = \'#C2185B\';\n        renderBlock(tetrimino.x + x, tetrimino.y + y, tetrimino, tetrimino.blocks[y][x]);\n      }\n    }\n  };\n\n  return {\n    render: function render(_ref4) {\n      var game = _ref4.game,\n          level = _ref4.level,\n          menuIndex = _ref4.menuIndex,\n          state = _ref4.name,\n          startedAt = _ref4.startedAt,\n          timestamp = _ref4.timestamp;\n      var fullLinesIndexes = game.fullLinesIndexes,\n          ghost = game.ghost,\n          queue = game.queue,\n          stack = game.stack,\n          tetrimino = game.tetrimino,\n          tetriminoes = game.tetriminoes;\n      renderQueue(queue);\n      renderLockedBlocks({\n        fullLinesIndexes: fullLinesIndexes,\n        stack: stack,\n        startedAt: startedAt,\n        tetriminoes: tetriminoes,\n        timestamp: timestamp\n      });\n\n      if (tetrimino) {\n        renderGhost(ghost);\n        renderTetrimino(tetrimino);\n      }\n\n      switch (state) {\n        case enums_state.NEW_GAME:\n          printString("Level   ".concat(String(level + 1).padStart(2, 0)), 0, dialogBoxCtx, menuIndex === 0);\n          printString(\'New game\', 2, dialogBoxCtx, menuIndex === 1);\n          return;\n\n        case enums_state.PAUSED:\n          printString(\'  Paused  \', 0, dialogBoxCtx, menuIndex === 0);\n          return;\n\n        case enums_state.GAME_OVER:\n          printString(\'Game over\', 0, dialogBoxCtx, menuIndex === 0);\n          return;\n\n        default:\n          dialogBoxCtx.clearRect(0, 0, dialogBoxCanvas.width, dialogBoxCanvas.height);\n      }\n    }\n  };\n});\n// CONCATENATED MODULE: ./src/models/inputs-handler.js\nvar inputs_handler_class;\n\nfunction inputs_handler_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction inputs_handler_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction inputs_handler_createClass(Constructor, protoProps, staticProps) { if (protoProps) inputs_handler_defineProperties(Constructor.prototype, protoProps); if (staticProps) inputs_handler_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction inputs_handler_applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if (\'value\' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\n\nvar InputsHandler = (inputs_handler_class = /*#__PURE__*/function () {\n  function InputsHandler(domNode) {\n    inputs_handler_classCallCheck(this, InputsHandler);\n\n    this.input = null;\n    this.lock = null;\n    domNode.addEventListener(\'keydown\', this.onKeyDown);\n    domNode.addEventListener(\'keyup\', this.onKeyUp);\n  }\n\n  inputs_handler_createClass(InputsHandler, [{\n    key: "onKeyDown",\n    value: function onKeyDown(event) {\n      this.input = event.code;\n    }\n  }, {\n    key: "onKeyUp",\n    value: function onKeyUp() {\n      this.input = null;\n      this.lock = null;\n    }\n  }, {\n    key: "consume",\n    value: function consume() {\n      this.lock = this.input;\n    }\n  }, {\n    key: "read",\n    value: function read() {\n      return this.lock === this.input ? null : this.input;\n    }\n  }]);\n\n  return InputsHandler;\n}(), (inputs_handler_applyDecoratedDescriptor(inputs_handler_class.prototype, "onKeyDown", [autobind], Object.getOwnPropertyDescriptor(inputs_handler_class.prototype, "onKeyDown"), inputs_handler_class.prototype), inputs_handler_applyDecoratedDescriptor(inputs_handler_class.prototype, "onKeyUp", [autobind], Object.getOwnPropertyDescriptor(inputs_handler_class.prototype, "onKeyUp"), inputs_handler_class.prototype)), inputs_handler_class);\n\n// CONCATENATED MODULE: ./src/models/states/game-over.js\nfunction game_over_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction game_over_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction game_over_createClass(Constructor, protoProps, staticProps) { if (protoProps) game_over_defineProperties(Constructor.prototype, protoProps); if (staticProps) game_over_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar game_over_GameOverState = /*#__PURE__*/function () {\n  function GameOverState(_ref) {\n    var game = _ref.game;\n\n    game_over_classCallCheck(this, GameOverState);\n\n    this.game = game;\n    this.name = enums_state.GAME_OVER;\n  }\n\n  game_over_createClass(GameOverState, [{\n    key: "processInput",\n    value: function processInput() {\n      return this;\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      return this;\n    }\n  }]);\n\n  return GameOverState;\n}();\n\n\n// CONCATENATED MODULE: ./src/enums/key.js\n// https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\n/* harmony default export */ var key = ({\n  A: \'KeyA\',\n  CTRL_LEFT: \'ControlLeft\',\n  CTRL_RIGHT: \'ControlRight\',\n  D: \'KeyD\',\n  DOWN_ARROW: \'ArrowDown\',\n  ENTER: \'Enter\',\n  ESCAPE: \'Escape\',\n  F1: \'F1\',\n  LEFT_ARROW: \'ArrowLeft\',\n  RIGHT_ARROW: \'ArrowRight\',\n  S: \'KeyS\',\n  SPACE: \'Space\',\n  UP_ARROW: \'ArrowUp\',\n  X: \'KeyX\',\n  Z: \'KeyZ\'\n});\n// CONCATENATED MODULE: ./src/models/states/lines-clear.js\nfunction lines_clear_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction lines_clear_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { lines_clear_ownKeys(Object(source), true).forEach(function (key) { lines_clear_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { lines_clear_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction lines_clear_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction lines_clear_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction lines_clear_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction lines_clear_createClass(Constructor, protoProps, staticProps) { if (protoProps) lines_clear_defineProperties(Constructor.prototype, protoProps); if (staticProps) lines_clear_defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar CLEAR_DURATION = 1400;\n\nvar lines_clear_LinesClearState = /*#__PURE__*/function () {\n  function LinesClearState(_ref) {\n    var game = _ref.game,\n        _ref$startedAt = _ref.startedAt,\n        startedAt = _ref$startedAt === void 0 ? 0 : _ref$startedAt;\n\n    lines_clear_classCallCheck(this, LinesClearState);\n\n    this.game = game;\n    this.startedAt = startedAt;\n  }\n\n  lines_clear_createClass(LinesClearState, [{\n    key: "processInput",\n    value: function processInput() {\n      return this;\n    }\n  }, {\n    key: "update",\n    value: function update(timestamp) {\n      var game = this.game;\n      game = game.markFullLines();\n\n      if (game.fullLinesIndexes.length) {\n        if (!this.startedAt) {\n          this.startedAt = timestamp;\n          return new LinesClearState(lines_clear_objectSpread({}, this, {\n            game: game\n          }));\n        }\n\n        if (timestamp < this.startedAt + CLEAR_DURATION) {\n          return new LinesClearState(lines_clear_objectSpread({}, this, {\n            game: game\n          }));\n        }\n\n        game = game.clearLines();\n        return new LinesClearState({\n          game: game\n        });\n      }\n\n      return new gravity_GravityState(lines_clear_objectSpread({}, this, {\n        game: game\n      }));\n    }\n  }]);\n\n  return LinesClearState;\n}();\n\n\n// CONCATENATED MODULE: ./src/models/states/paused.js\nfunction paused_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction paused_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { paused_ownKeys(Object(source), true).forEach(function (key) { paused_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { paused_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction paused_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction paused_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction paused_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction paused_createClass(Constructor, protoProps, staticProps) { if (protoProps) paused_defineProperties(Constructor.prototype, protoProps); if (staticProps) paused_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar paused_PausedState = /*#__PURE__*/function () {\n  function PausedState(_ref) {\n    var game = _ref.game;\n\n    paused_classCallCheck(this, PausedState);\n\n    this.game = game;\n    this.name = enums_state.PAUSED;\n  }\n\n  paused_createClass(PausedState, [{\n    key: "processInput",\n    value: function processInput(inputHandler) {\n      switch (inputHandler.read()) {\n        case key.ESCAPE:\n        case key.F1:\n          inputHandler.consume();\n          return new gravity_GravityState(paused_objectSpread({}, this, {\n            lastUpdatedAt: this.timestamp,\n            startedAt: this.timestamp\n          }));\n\n        default:\n          return this;\n      }\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      return this;\n    }\n  }]);\n\n  return PausedState;\n}();\n\n\n// CONCATENATED MODULE: ./src/models/states/gravity.js\nfunction gravity_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction gravity_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { gravity_ownKeys(Object(source), true).forEach(function (key) { gravity_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { gravity_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction gravity_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction gravity_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction gravity_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction gravity_createClass(Constructor, protoProps, staticProps) { if (protoProps) gravity_defineProperties(Constructor.prototype, protoProps); if (staticProps) gravity_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar DAS_DELAY = 1000 / 16 * 4;\nvar FRAME_LENGTH_AT_60_FPS = 1000 / 60;\nvar LOCK_DELAY = 500;\n\nvar gravity_GravityState = /*#__PURE__*/function () {\n  function GravityState(_ref) {\n    var das = _ref.das,\n        game = _ref.game,\n        lastUpdatedAt = _ref.lastUpdatedAt,\n        lockExpiry = _ref.lockExpiry,\n        movesLeft = _ref.movesLeft,\n        startedAt = _ref.startedAt;\n\n    gravity_classCallCheck(this, GravityState);\n\n    this.das = das;\n    this.game = game;\n    this.lastUpdatedAt = lastUpdatedAt || 0;\n    this.lockExpiry = lockExpiry || 0;\n    this.movesLeft = movesLeft || 0;\n    this.name = enums_state.GRAVITY;\n    this.startedAt = startedAt || 0;\n  }\n\n  gravity_createClass(GravityState, [{\n    key: "applyGravity",\n    value: function applyGravity(game, timestamp) {\n      var lastUpdatedAt = this.lastUpdatedAt,\n          startedAt = this.startedAt;\n      var dt = timestamp - startedAt - lastUpdatedAt;\n      var dy = Math.floor(dt * game.gravity / FRAME_LENGTH_AT_60_FPS);\n      if (dy) this.lastUpdatedAt = timestamp - startedAt;\n      return game.moveTetrimino([0, dy]);\n    }\n  }, {\n    key: "delayAutoShift",\n    value: function delayAutoShift(direction, timestamp) {\n      var das = this.das;\n\n      if (das) {\n        if (timestamp < das) return this;\n        return this.moveTetrimino(direction, timestamp);\n      }\n\n      return new GravityState(gravity_objectSpread({}, this.moveTetrimino(direction, timestamp), {\n        das: timestamp + DAS_DELAY\n      }));\n    }\n  }, {\n    key: "hardDropTetrimino",\n    value: function hardDropTetrimino() {\n      var game = this.game;\n      return new lines_clear_LinesClearState({\n        game: game.hardDropTetrimino().lockTetrimino()\n      });\n    }\n  }, {\n    key: "moveTetrimino",\n    value: function moveTetrimino(direction, timestamp) {\n      var game = this.game,\n          lockExpiry = this.lockExpiry;\n      var next = game.moveTetrimino(direction);\n      if (next === game) return this;\n\n      if (lockExpiry) {\n        this.lockExpiry = timestamp + LOCK_DELAY;\n        --this.movesLeft;\n      }\n\n      return new GravityState(gravity_objectSpread({}, this, {\n        game: next\n      }));\n    }\n  }, {\n    key: "processInput",\n    value: function processInput(inputHandler, timestamp) {\n      var game = this.game;\n      if (!inputHandler.read()) return new GravityState(gravity_objectSpread({}, this, {\n        das: null\n      }));\n      if (!game.tetrimino) return this;\n\n      switch (inputHandler.read()) {\n        case key.CTRL_LEFT:\n        case key.CTRL_RIGHT:\n        case key.Z:\n          inputHandler.consume();\n          return this.rotateTetrimino(direction.COUNTERCLOCKWISE, timestamp);\n\n        case key.DOWN_ARROW:\n        case key.S:\n          return this.moveTetrimino(direction.DOWN, timestamp);\n\n        case key.ESCAPE:\n        case key.F1:\n          inputHandler.consume();\n          return new paused_PausedState(this);\n\n        case key.LEFT_ARROW:\n        case key.A:\n          return this.delayAutoShift(direction.LEFT, timestamp);\n\n        case key.RIGHT_ARROW:\n        case key.D:\n          return this.delayAutoShift(direction.RIGHT, timestamp);\n\n        case key.SPACE:\n          inputHandler.consume();\n          return this.hardDropTetrimino();\n\n        case key.UP_ARROW:\n        case key.X:\n          inputHandler.consume();\n          return this.rotateTetrimino(direction.CLOCKWISE, timestamp);\n\n        default:\n          return this;\n      }\n    }\n  }, {\n    key: "rotateTetrimino",\n    value: function rotateTetrimino(direction, timestamp) {\n      var game = this.game,\n          lockExpiry = this.lockExpiry;\n      var next = game.rotateTetrimino(direction);\n      if (next === this.game) return this;\n\n      if (lockExpiry) {\n        this.lockExpiry = timestamp + LOCK_DELAY;\n        --this.movesLeft;\n      }\n\n      return new GravityState(gravity_objectSpread({}, this, {\n        game: next\n      }));\n    }\n  }, {\n    key: "update",\n    value: function update(timestamp) {\n      var state = new GravityState(this);\n      var startedAt = state.startedAt;\n      var game = state.game;\n      if (!startedAt) state.startedAt = timestamp;\n      if (!game.tetrimino) game = game.shiftQueue();\n\n      if (!game.isValidChunk(game.tetrimino)) {\n        return new game_over_GameOverState({\n          game: game\n        });\n      }\n\n      game = state.applyGravity(game, timestamp);\n\n      if (game.isValidChunk(game.tetrimino.move(direction.DOWN))) {\n        return new GravityState(gravity_objectSpread({}, state, {\n          game: game,\n          lockExpiry: 0\n        }));\n      } else if (!state.lockExpiry) {\n        return new GravityState(gravity_objectSpread({}, state, {\n          game: game,\n          lockExpiry: timestamp + LOCK_DELAY,\n          movesLeft: 15\n        }));\n      } else if (timestamp > state.lockExpiry || !state.movesLeft) {\n        return new lines_clear_LinesClearState({\n          game: game.lockTetrimino()\n        });\n      }\n\n      return state;\n    }\n  }]);\n\n  return GravityState;\n}();\n\n\n// CONCATENATED MODULE: ./src/enums/menu.js\n/* harmony default export */ var menu = ({\n  START_LEVEL: \'START_LEVEL\'\n});\n// CONCATENATED MODULE: ./src/models/states/new-game.js\nfunction new_game_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction new_game_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { new_game_ownKeys(Object(source), true).forEach(function (key) { new_game_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { new_game_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction new_game_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction new_game_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction new_game_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction new_game_createClass(Constructor, protoProps, staticProps) { if (protoProps) new_game_defineProperties(Constructor.prototype, protoProps); if (staticProps) new_game_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar new_game_menu = [menu.START_LEVEL, menu.NEW_GAME];\n\nvar new_game_NewGameState = /*#__PURE__*/function () {\n  function NewGameState(_ref) {\n    var game = _ref.game,\n        _ref$level = _ref.level,\n        level = _ref$level === void 0 ? 0 : _ref$level,\n        _ref$menuIndex = _ref.menuIndex,\n        menuIndex = _ref$menuIndex === void 0 ? 0 : _ref$menuIndex;\n\n    new_game_classCallCheck(this, NewGameState);\n\n    this.game = game;\n    this.level = level;\n    this.menuIndex = menuIndex;\n    this.name = enums_state.NEW_GAME;\n  }\n\n  new_game_createClass(NewGameState, [{\n    key: "processInput",\n    value: function processInput(inputHandler) {\n      var game = this.game;\n\n      switch (inputHandler.read()) {\n        case key.ENTER:\n          inputHandler.consume();\n          if (new_game_menu[this.menuIndex] !== menu.NEW_GAME) return this;\n          return new gravity_GravityState({\n            game: game.reset({\n              level: this.level\n            }).initQueue(1)\n          });\n\n        case key.DOWN_ARROW:\n          inputHandler.consume();\n          if (this.menuIndex === new_game_menu.length - 1) return this;\n          return new NewGameState(new_game_objectSpread({}, this, {\n            menuIndex: this.menuIndex + 1\n          }));\n\n        case key.LEFT_ARROW:\n          inputHandler.consume();\n          if (new_game_menu[this.menuIndex] !== menu.START_LEVEL || !this.level) return this;\n          return new NewGameState(new_game_objectSpread({}, this, {\n            level: this.level - 1\n          }));\n\n        case key.RIGHT_ARROW:\n          inputHandler.consume();\n\n          if (new_game_menu[this.menuIndex] !== menu.START_LEVEL || this.level === 19) {\n            return this;\n          }\n\n          return new NewGameState(new_game_objectSpread({}, this, {\n            level: this.level + 1\n          }));\n\n        case key.UP_ARROW:\n          inputHandler.consume();\n          if (!this.menuIndex) return this;\n          return new NewGameState(new_game_objectSpread({}, this, {\n            menuIndex: this.menuIndex - 1\n          }));\n\n        default:\n          return this;\n      }\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      return this;\n    }\n  }]);\n\n  return NewGameState;\n}();\n\n\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/index.js\nfunction src_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction src_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { src_ownKeys(Object(source), true).forEach(function (key) { src_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { src_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction src_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\nvar inputsHandler = new InputsHandler(document.body);\nvar src_game = new game_Game();\nvar renderer = game_boy(src_objectSpread({}, src_game));\nvar src_state = new new_game_NewGameState({\n  game: src_game\n});\nvar core = new Core({\n  inputsHandler: inputsHandler,\n  renderer: renderer,\n  state: src_state\n});\ncore.loop();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hdXRvYmluZC1kZWNvcmF0b3IvbGliL2VzbS9pbmRleC5qcz9iYWNjIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvY29yZS5qcz9mODNhIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvY2h1bmsuanM/MTE0YyIsIndlYnBhY2s6Ly8vLi9zcmMvZW51bXMvZGlyZWN0aW9uLmpzPzQ5ZTciLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy90ZXRyaW1pbm8uanM/NDc0OSIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2dhbWUuanM/OGZiOCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvY2hhci5qcz84YzFlIiwid2VicGFjazovLy8uL3NyYy9lbnVtcy9zdGF0ZS5qcz84YmI5Iiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvcmVuZGVyZXJzL2dhbWUtYm95LmpzPzQyYTciLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9pbnB1dHMtaGFuZGxlci5qcz9iYTAzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhdGVzL2dhbWUtb3Zlci5qcz8yYjc1Iiwid2VicGFjazovLy8uL3NyYy9lbnVtcy9rZXkuanM/ZGUwNyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N0YXRlcy9saW5lcy1jbGVhci5qcz84ODhlIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhdGVzL3BhdXNlZC5qcz9jYjBiIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhdGVzL2dyYXZpdHkuanM/NzFjZSIsIndlYnBhY2s6Ly8vLi9zcmMvZW51bXMvbWVudS5qcz9jZmRmIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhdGVzL25ldy1nYW1lLmpzPzVjYjUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyoqXG4gKiBSZXR1cm4gYSBkZXNjcmlwdG9yIHJlbW92aW5nIHRoZSB2YWx1ZSBhbmQgcmV0dXJuaW5nIGEgZ2V0dGVyXG4gKiBUaGUgZ2V0dGVyIHdpbGwgcmV0dXJuIGEgLmJpbmQgdmVyc2lvbiBvZiB0aGUgZnVuY3Rpb25cbiAqIGFuZCBtZW1vaXplIHRoZSByZXN1bHQgYWdhaW5zdCBhIHN5bWJvbCBvbiB0aGUgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdW5kTWV0aG9kKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIHZhciBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAYm91bmRNZXRob2QgZGVjb3JhdG9yIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gbWV0aG9kcyBub3Q6IFwiLmNvbmNhdChfdHlwZW9mKGZuKSkpO1xuICB9IC8vIEluIElFMTEgY2FsbGluZyBPYmplY3QuZGVmaW5lUHJvcGVydHkgaGFzIGEgc2lkZS1lZmZlY3Qgb2YgZXZhbHVhdGluZyB0aGVcbiAgLy8gZ2V0dGVyIGZvciB0aGUgcHJvcGVydHkgd2hpY2ggaXMgYmVpbmcgcmVwbGFjZWQuIFRoaXMgY2F1c2VzIGluZmluaXRlXG4gIC8vIHJlY3Vyc2lvbiBhbmQgYW4gXCJPdXQgb2Ygc3RhY2sgc3BhY2VcIiBlcnJvci5cblxuXG4gIHZhciBkZWZpbmluZ1Byb3BlcnR5ID0gZmFsc2U7XG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgaWYgKGRlZmluaW5nUHJvcGVydHkgfHwgdGhpcyA9PT0gdGFyZ2V0LnByb3RvdHlwZSB8fCB0aGlzLmhhc093blByb3BlcnR5KGtleSkgfHwgdHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGJvdW5kRm4gPSBmbi5iaW5kKHRoaXMpO1xuICAgICAgZGVmaW5pbmdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGJvdW5kRm47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgZm4gPSB2YWx1ZTtcbiAgICAgICAgICBkZWxldGUgdGhpc1trZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlZmluaW5nUHJvcGVydHkgPSBmYWxzZTtcbiAgICAgIHJldHVybiBib3VuZEZuO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIGZuID0gdmFsdWU7XG4gICAgfVxuICB9O1xufVxuLyoqXG4gKiBVc2UgYm91bmRNZXRob2QgdG8gYmluZCBhbGwgbWV0aG9kcyBvbiB0aGUgdGFyZ2V0LnByb3RvdHlwZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBib3VuZENsYXNzKHRhcmdldCkge1xuICAvLyAoVXNpbmcgcmVmbGVjdCB0byBnZXQgYWxsIGtleXMgaW5jbHVkaW5nIHN5bWJvbHMpXG4gIHZhciBrZXlzOyAvLyBVc2UgUmVmbGVjdCBpZiBleGlzdHNcblxuICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBSZWZsZWN0Lm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBrZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldC5wcm90b3R5cGUpO1xuICB9IGVsc2Uge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQucHJvdG90eXBlKTsgLy8gVXNlIHN5bWJvbHMgaWYgc3VwcG9ydCBpcyBwcm92aWRlZFxuXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBrZXlzID0ga2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQucHJvdG90eXBlKSk7XG4gICAgfVxuICB9XG5cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAvLyBJZ25vcmUgc3BlY2lhbCBjYXNlIHRhcmdldCBtZXRob2RcbiAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldC5wcm90b3R5cGUsIGtleSk7IC8vIE9ubHkgbWV0aG9kcyBuZWVkIGJpbmRpbmdcblxuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldC5wcm90b3R5cGUsIGtleSwgYm91bmRNZXRob2QodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b2JpbmQoKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGJvdW5kQ2xhc3MuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGJvdW5kTWV0aG9kLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbn0iLCJpbXBvcnQgYXV0b2JpbmQgZnJvbSAnYXV0b2JpbmQtZGVjb3JhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29yZSB7XG4gIGNvbnN0cnVjdG9yKHsgaW5wdXRzSGFuZGxlciwgcmVuZGVyZXIsIHN0YXRlIH0pIHtcbiAgICB0aGlzLmlucHV0c0hhbmRsZXIgPSBpbnB1dHNIYW5kbGVyO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgbG9vcCh0aW1lc3RhbXApIHtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZVxuICAgICAgLnByb2Nlc3NJbnB1dCh0aGlzLmlucHV0c0hhbmRsZXIsIHRpbWVzdGFtcClcbiAgICAgIC51cGRhdGUodGltZXN0YW1wKTtcbiAgICB0aGlzLnJlbmRlcih0aW1lc3RhbXApO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcmVuZGVyKHRpbWVzdGFtcCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHsgLi4udGhpcy5zdGF0ZSwgdGltZXN0YW1wIH0pO1xuICB9XG59XG4iLCJsZXQgbGFzdElkID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2h1bmsge1xuICBjb25zdHJ1Y3Rvcih7IGJsb2NrcywgaWQgPSBsYXN0SWQrKywgeCA9IDAsIHkgPSAwIH0pIHtcbiAgICB0aGlzLmJsb2NrcyA9IGJsb2NrcztcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgbW92ZShbZHgsIGR5XSkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7IC4uLnRoaXMsIHg6IHRoaXMueCArIGR4LCB5OiB0aGlzLnkgKyBkeSB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBDTE9DS1dJU0U6IDEsXG4gIENPVU5URVJDTE9DS1dJU0U6IC0xLFxuICBET1dOOiBbMCwgMV0sXG4gIExFRlQ6IFstMSwgMF0sXG4gIFJJR0hUOiBbMSwgMF0sXG59O1xuIiwiaW1wb3J0IENodW5rIGZyb20gJ21vZGVscy9jaHVuayc7XG5cbi8qIC4gIC4gIC4gIC4gICAgLiAgLiAgNCAgLiAgICAuICAuICAuICAuICAgIC4gIDIgIC4gIC5cbiAgIDEgIDIgIDQgIDggICAgLiAgLiAgNCAgLiAgICAuICAuICAuICAuICAgIC4gIDIgIC4gIC5cbiAgIC4gIC4gIC4gIC4gICAgLiAgLiAgNCAgLiAgICAxICAyICA0ICA4ICAgIC4gIDIgIC4gIC5cbiAgIC4gIC4gIC4gIC4gICAgLiAgLiAgNCAgLiAgICAuICAuICAuICAuICAgIC4gIDIgIC4gIC5cbiAgICAgMHgwMGYwICAgICAgICAweDQ0NDQgICAgICAgIDB4MGYwMCAgICAgICAgMHgyMjIyXG5cbiAgIDEgIC4gIC4gICAgLiAgMiAgNCAgICAuICAuICAuICAgIC4gIDIgIC5cbiAgIDEgIDIgIDQgICAgLiAgMiAgLiAgICAxICAyICA0ICAgIC4gIDIgIC5cbiAgIC4gIC4gIC4gICAgLiAgMiAgLiAgICAuICAuICA0ICAgIDEgIDIgIC5cbiAgICAweDA3MSAgICAgIDB4MjI2ICAgICAgMHg0NzAgICAgICAweDMyMlxuXG4gICAuICAuICA0ICAgIC4gIDIgIC4gICAgLiAgLiAgLiAgICAxICAyICAuXG4gICAxICAyICA0ICAgIC4gIDIgIC4gICAgMSAgMiAgNCAgICAuICAyICAuXG4gICAuICAuICAuICAgIC4gIDIgIDQgICAgMSAgLiAgLiAgICAuICAyICAuXG4gICAgMHgwNzQgICAgICAweDYyMiAgICAgIDB4MTcwICAgICAgMHgyMjNcblxuICAgMSAgMlxuICAgMSAgMlxuICAgMHgzM1xuXG4gICAuICAyICA0ICAgIC4gIDIgIC4gICAgLiAgLiAgLiAgICAxICAuICAuXG4gICAxICAyICAuICAgIC4gIDIgIDQgICAgLiAgMiAgNCAgICAxICAyICAuXG4gICAuICAuICAuICAgIC4gIC4gIDQgICAgMSAgMiAgLiAgICAuICAyICAuXG4gICAuICAuICAuICAgIC4gIC4gIC4gICAgLiAgLiAgLiAgICAuICAuICAuXG4gICAgMHgwMzYgICAgICAweDQ2MiAgICAgIDB4MzYwICAgICAgMHgyMzFcblxuICAgLiAgMiAgLiAgICAuICAyICAuICAgIC4gIC4gIC4gICAgLiAgMiAgLlxuICAgMSAgMiAgNCAgICAuICAyICA0ICAgIDEgIDIgIDQgICAgMSAgMiAgLlxuICAgLiAgLiAgLiAgICAuICAyICAuICAgIC4gIDIgIC4gICAgLiAgMiAgLlxuICAgIDB4MDcyICAgICAgMHgyNjIgICAgICAweDI3MCAgICAgIDB4MjMyXG5cbiAgIDEgIDIgIC4gICAgLiAgLiAgNCAgICAuICAuICAuICAgIC4gIDIgIC5cbiAgIC4gIDIgIDQgICAgLiAgMiAgNCAgICAxICAyICAuICAgIDEgIDIgIC5cbiAgIC4gIC4gIC4gICAgLiAgMiAgLiAgICAuICAyICA0ICAgIDEgIC4gIC5cbiAgICAweDA2MyAgICAgIDB4MjY0ICAgICAgMHg2MzAgICAgICAweDEzMiAgKi9cbmNvbnN0IEVOQ09ERURfQkxPQ0tTID0gW1xuICBbJzAwZjAnLCAnNDQ0NCcsICcwZjAwJywgJzIyMjInXSxcbiAgWycwNzEnLCAnMjI2JywgJzQ3MCcsICczMjInXSxcbiAgWycwNzQnLCAnNjIyJywgJzE3MCcsICcyMjMnXSxcbiAgWyczMyddLFxuICBbJzAzNicsICc0NjInLCAnMzYwJywgJzIzMSddLFxuICBbJzA3MicsICcyNjInLCAnMjcwJywgJzIzMiddLFxuICBbJzA2MycsICcyNjQnLCAnNjMwJywgJzEzMiddLFxuXTtcblxuY29uc3QgQkxPQ0tTID0gRU5DT0RFRF9CTE9DS1MubWFwKGVuY29kZWRCbG9ja3MgPT4gKFxuICBlbmNvZGVkQmxvY2tzLm1hcChlbmNvZGVkQmxvY2sgPT4ge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGxldCBpID0gMTtcbiAgICBsZXQgcm93O1xuXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBlbmNvZGVkQmxvY2subGVuZ3RoOyB5KyspIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cbiAgICAgIHJvdyA9IChwYXJzZUludChlbmNvZGVkQmxvY2ssIDE2KSA+PiAoeSAqIDQpKVxuICAgICAgICAmIChNYXRoLnBvdygyLCBlbmNvZGVkQmxvY2subGVuZ3RoKSAtIDEpO1xuICAgICAgYmxvY2tzW3ldID0gW107XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGVuY29kZWRCbG9jay5sZW5ndGg7IHgrKykge1xuICAgICAgICBibG9ja3NbeV1beF0gPSByb3cgJiBNYXRoLnBvdygyLCB4KSA/IGkrKyA6IG51bGw7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWJpdHdpc2UgKi9cbiAgICB9XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfSlcbikpO1xuXG5leHBvcnQgY29uc3QgU0hBUEVTID0gJ2lqbG9zdHonLnNwbGl0KCcnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV0cmltaW5vIGV4dGVuZHMgQ2h1bmsge1xuICBjb25zdHJ1Y3Rvcih7IGlkLCByb3RhdGlvbiA9IDAsIHNoYXBlLCB4LCB5IH0pIHtcbiAgICBzdXBlcih7IGJsb2NrczogQkxPQ0tTW1NIQVBFUy5pbmRleE9mKHNoYXBlKV1bcm90YXRpb25dLCBpZCwgeCwgeSB9KTtcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICB9XG5cbiAgbW92ZVRvKFt4LCB5XSkge1xuICAgIHJldHVybiBuZXcgVGV0cmltaW5vKHsgLi4udGhpcywgeCwgeSB9KTtcbiAgfVxuXG4gIHJvdGF0ZShkaXJlY3Rpb24pIHtcbiAgICBjb25zdCByb3RhdGlvbiA9ICh0aGlzLnJvdGF0aW9uICsgZGlyZWN0aW9uICUgNCArIDQpICUgNDtcblxuICAgIHJldHVybiBuZXcgVGV0cmltaW5vKHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBibG9ja3M6IEJMT0NLU1tTSEFQRVMuaW5kZXhPZih0aGlzLnNoYXBlKV1bcm90YXRpb25dLFxuICAgICAgcm90YXRpb24sXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBhdXRvYmluZCBmcm9tICdhdXRvYmluZC1kZWNvcmF0b3InO1xuaW1wb3J0IENodW5rIGZyb20gJ21vZGVscy9jaHVuayc7XG5pbXBvcnQgRElSRUNUSU9OIGZyb20gJ2VudW1zL2RpcmVjdGlvbic7XG5pbXBvcnQgVGV0cmltaW5vLCB7IFNIQVBFUyB9IGZyb20gJ21vZGVscy90ZXRyaW1pbm8nO1xuXG5jb25zdCBJX1dBTExfS0lDS1NfVEFCTEUgPSBbXG4gIFtbMCwgMF0sIFstMiwgMF0sIFsxLCAwXSwgWy0yLCAtMV0sIFsxLCAyXV0sXG4gIFtbMCwgMF0sIFstMSwgMF0sIFsyLCAwXSwgWy0xLCAyXSwgWzIsIC0xXV0sXG4gIFtbMCwgMF0sIFsyLCAwXSwgWy0xLCAwXSwgWzIsIDFdLCBbLTEsIC0yXV0sXG4gIFtbMCwgMF0sIFsxLCAwXSwgWy0yLCAwXSwgWzEsIC0yXSwgWy0yLCAxXV0sXG5dO1xuXG5jb25zdCBKTFNUWl9XQUxMX0tJQ0tTX1RBQkxFID0gW1xuICBbWzAsIDBdLCBbLTEsIDBdLCBbLTEsIDFdLCBbMCwgLTJdLCBbLTEsIC0yXV0sXG4gIFtbMCwgMF0sIFsxLCAwXSwgWzEsIC0xXSwgWzAsIDJdLCBbMSwgMl1dLFxuICBbWzAsIDBdLCBbMSwgMF0sIFsxLCAxXSwgWzAsIC0yXSwgWzEsIC0yXV0sXG4gIFtbMCwgMF0sIFstMSwgMF0sIFstMSwgLTFdLCBbMCwgMl0sIFstMSwgMl1dLFxuXTtcblxuY29uc3QgTElORV9DTEVBUlMgPSBbMCwgMSwgMywgNSwgOF07XG5cbmNvbnN0IGJ5SWQgPSBTeW1ib2woJ2J5SWQnKTtcbmNvbnN0IGN1cnJlbnRJZCA9IFN5bWJvbCgnY3VycmVudElkJyk7XG5cbmNvbnN0IGNyZWF0ZVJhbmRvbVRldHJpbWlubyA9ICgpID0+IG5ldyBUZXRyaW1pbm8oe1xuICBzaGFwZTogU0hBUEVTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIFNIQVBFUy5sZW5ndGgpXSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGZ1bGxMaW5lc0luZGV4ZXMgPSBbXSxcbiAgICBoZWlnaHQgPSAyMCxcbiAgICBsZXZlbCA9IDAsXG4gICAgbGluZUNsZWFycyA9IDAsXG4gICAgcXVldWUsXG4gICAgc3RhY2ssXG4gICAgdGV0cmltaW5vLFxuICAgIHdpZHRoID0gMTAsXG4gICAgLi4uYXJnc1xuICB9ID0ge30pIHtcbiAgICB0aGlzLmZ1bGxMaW5lc0luZGV4ZXMgPSBmdWxsTGluZXNJbmRleGVzO1xuICAgIHRoaXMuaGVpZ2h0ID0gc3RhY2sgPyBzdGFjay5sZW5ndGggOiBoZWlnaHQ7XG4gICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIHRoaXMubGluZUNsZWFycyA9IGxpbmVDbGVhcnM7XG4gICAgdGhpcy53aWR0aCA9IHN0YWNrID8gc3RhY2tbMF0ubGVuZ3RoIDogd2lkdGg7XG4gICAgdGhpcy5zdGFjayA9IHN0YWNrXG4gICAgICB8fCBbLi4ubmV3IEFycmF5KGhlaWdodCldLm1hcCgoKSA9PiBbLi4ubmV3IEFycmF5KHdpZHRoKV0pO1xuICAgIHRoaXMucXVldWUgPSBxdWV1ZSB8fCBbXTtcblxuICAgIHRoaXNbYnlJZF0gPSB0ZXRyaW1pbm9cbiAgICAgID8geyAuLi5hcmdzW2J5SWRdLCBbdGV0cmltaW5vLmlkXTogdGV0cmltaW5vIH1cbiAgICAgIDogYXJnc1tieUlkXSA/PyB7fTtcbiAgICB0aGlzW2N1cnJlbnRJZF0gPSB0ZXRyaW1pbm8/LmlkO1xuICB9XG5cbiAgZ2V0IGdob3N0KCkge1xuICAgIGlmICghdGhpcy50ZXRyaW1pbm8pIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLmhhcmREcm9wQ2h1bmsodGhpcy50ZXRyaW1pbm8pO1xuICB9XG5cbiAgLy8gY2VsbHMgcGVyIGZyYW1lIGF0IDYwIGZwcyAoY2VsbHMgcGVyIHNlY29uZClcbiAgZ2V0IGdyYXZpdHkoKSB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDApIHJldHVybiAxIC8gMzY7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDEpIHJldHVybiAxIC8gMzI7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDIpIHJldHVybiAxIC8gMjk7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDMpIHJldHVybiAxIC8gMjU7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDQpIHJldHVybiAxIC8gMjI7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDUpIHJldHVybiAxIC8gMTg7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDYpIHJldHVybiAxIC8gMTU7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDcpIHJldHVybiAxIC8gMTE7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDgpIHJldHVybiAxIC8gNztcbiAgICBpZiAodGhpcy5sZXZlbCA9PT0gOSkgcmV0dXJuIDEgLyA1O1xuICAgIGlmICh0aGlzLmxldmVsIDw9IDEyKSByZXR1cm4gMSAvIDQ7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMTUpIHJldHVybiAxIC8gMztcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxOCkgcmV0dXJuIDEgLyAyO1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgZ2V0IHRldHJpbWlubygpIHtcbiAgICByZXR1cm4gdGhpcy50ZXRyaW1pbm9lcy5ieUlkW3RoaXMudGV0cmltaW5vZXMuY3VycmVudElkXTtcbiAgfVxuXG4gIGdldCB0ZXRyaW1pbm9lcygpIHtcbiAgICByZXR1cm4geyBieUlkOiB0aGlzW2J5SWRdLCBjdXJyZW50SWQ6IHRoaXNbY3VycmVudElkXSB9O1xuICB9XG5cbiAgc2V0IHRldHJpbWlubyh0ZXRyaW1pbm8pIHtcbiAgICB0aGlzW2N1cnJlbnRJZF0gPSB0ZXRyaW1pbm8uaWQ7XG4gICAgdGhpc1tieUlkXSA9IHsgLi4udGhpc1tieUlkXSwgW3RldHJpbWluby5pZF06IHRldHJpbWlubyB9O1xuICB9XG5cbiAgY2xlYXJMaW5lcygpIHtcbiAgICB0aGlzLmxpbmVDbGVhcnMgKz0gTElORV9DTEVBUlNbdGhpcy5mdWxsTGluZXNJbmRleGVzLmxlbmd0aF07XG4gICAgaWYgKHRoaXMubGluZUNsZWFycyA+PSAodGhpcy5sZXZlbCArIDEpICogNSkge1xuICAgICAgdGhpcy5sZXZlbCArPSAxO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVtcHR5RnVsbExpbmVzKCkuZHJvcExvY2tlZEJsb2NrcygpO1xuICB9XG5cbiAgZHJvcExvY2tlZEJsb2NrcygpIHtcbiAgICBjb25zdCBmdWxsTGluZXNJbmRleGVzID0gdGhpcy5mdWxsTGluZXNJbmRleGVzLnNsaWNlKCk7XG4gICAgbGV0IGdhbWUgPSB0aGlzO1xuICAgIGxldCBlbmQ7XG5cbiAgICB3aGlsZSAoKGVuZCA9IGZ1bGxMaW5lc0luZGV4ZXMuc2hpZnQoKSkpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gZnVsbExpbmVzSW5kZXhlc1swXSB8fCAwO1xuXG4gICAgICBnYW1lID0gZ2FtZS5leHRyYWN0Q2h1bmtzKHN0YXJ0LCBlbmQpXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLm1hcChnYW1lLmhhcmREcm9wQ2h1bmspXG4gICAgICAgIC5yZWR1Y2UoKHN0YXRlLCBjaHVuaykgPT4gc3RhdGUubG9ja0NodW5rKGNodW5rKSwgZ2FtZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgR2FtZSh7IC4uLmdhbWUsIGZ1bGxMaW5lc0luZGV4ZXMgfSk7XG4gIH1cblxuICBlbXB0eUZ1bGxMaW5lcygpIHtcbiAgICBjb25zdCBzdGFjayA9IHRoaXMuc3RhY2suc2xpY2UoKTtcblxuICAgIHJldHVybiBuZXcgR2FtZSh7XG4gICAgICAuLi50aGlzLFxuICAgICAgc3RhY2s6IHN0YWNrLm1hcCgobGluZSwgaW5kZXgpID0+IChcbiAgICAgICAgdGhpcy5mdWxsTGluZXNJbmRleGVzLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgID8gWy4uLm5ldyBBcnJheSh0aGlzLndpZHRoKV1cbiAgICAgICAgICA6IGxpbmVcbiAgICAgICkpLFxuICAgIH0pO1xuICB9XG5cbiAgZXh0cmFjdENodW5rcyhzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgbGV0IGNodW5rO1xuXG4gICAgZm9yIChsZXQgeSA9IHN0YXJ0OyB5IDwgZW5kOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoeCwgeSkpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNodW5rID0gY2h1bmtzLmZpbmQoY2hrID0+IChcbiAgICAgICAgICBjaGsuaW5jbHVkZXMoYCR7eH0sJHt5fWApIHx8IGNoay5pbmNsdWRlcyhgJHt4ICsgMX0sJHt5fWApXG4gICAgICAgICkpO1xuICAgICAgICBpZiAoIWNodW5rKSB7XG4gICAgICAgICAgY2h1bmtzLnB1c2goW10pO1xuICAgICAgICAgIGNodW5rID0gY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSh4ICsgMSwgeSkgJiYgIWNodW5rLmluY2x1ZGVzKGAke3ggKyAxfSwke3l9YCkpIHtcbiAgICAgICAgICBjaHVuay5wdXNoKGAke3ggKyAxfSwke3l9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoeCwgeSArIDEpICYmICFjaHVuay5pbmNsdWRlcyhgJHt4fSwke3kgKyAxfWApKSB7XG4gICAgICAgICAgY2h1bmsucHVzaChgJHt4fSwke3kgKyAxfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2h1bmsuaW5jbHVkZXMoYCR7eH0sJHt5fWApKSBjaHVuay5wdXNoKGAke3h9LCR7eX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNodW5rcy5tYXAoc3RyaW5ncyA9PiB7XG4gICAgICBjb25zdCBjb29yZGluYXRlcyA9IHN0cmluZ3MubWFwKHN0cmluZyA9PiBzdHJpbmcuc3BsaXQoJywnKSk7XG4gICAgICBjb25zdCB4TWF4ID0gTWF0aC5tYXgoLi4uY29vcmRpbmF0ZXMubWFwKChbeF0pID0+IHgpKTtcbiAgICAgIGNvbnN0IHhNaW4gPSBNYXRoLm1pbiguLi5jb29yZGluYXRlcy5tYXAoKFt4XSkgPT4geCkpO1xuICAgICAgY29uc3QgeU1heCA9IE1hdGgubWF4KC4uLmNvb3JkaW5hdGVzLm1hcCgoWywgeV0pID0+IHkpKTtcbiAgICAgIGNvbnN0IHlNaW4gPSBNYXRoLm1pbiguLi5jb29yZGluYXRlcy5tYXAoKFssIHldKSA9PiB5KSk7XG4gICAgICBjb25zdCBibG9ja3MgPSBbLi4ubmV3IEFycmF5KHlNYXggLSB5TWluICsgMSldXG4gICAgICAgIC5tYXAoKCkgPT4gWy4uLm5ldyBBcnJheSh4TWF4IC0geE1pbiArIDEpXSk7XG5cbiAgICAgIGNvb3JkaW5hdGVzLmZvckVhY2goKFt4LCB5XSkgPT4ge1xuICAgICAgICBibG9ja3NbeSAtIHlNaW5dW3ggLSB4TWluXSA9IHRoaXMuc3RhY2tbeV1beF07XG4gICAgICAgIHRoaXMuc3RhY2tbeV1beF0gPSBudWxsOyAvLyBAdG9kbzogZG8gbm90IG11dGF0ZSBzdGFja1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IENodW5rKHsgYmxvY2tzLCB4OiB4TWluLCB5OiB5TWluIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGhhcmREcm9wQ2h1bmsoY2h1bmspIHtcbiAgICBsZXQgbmV4dCA9IGNodW5rO1xuXG4gICAgd2hpbGUgKHRoaXMuaXNWYWxpZENodW5rKG5leHQubW92ZShESVJFQ1RJT04uRE9XTikpKSB7XG4gICAgICBuZXh0ID0gbmV4dC5tb3ZlKERJUkVDVElPTi5ET1dOKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICBoYXJkRHJvcFRldHJpbWlubygpIHtcbiAgICByZXR1cm4gbmV3IEdhbWUoeyAuLi50aGlzLCB0ZXRyaW1pbm86IHRoaXMuZ2hvc3QgfSk7XG4gIH1cblxuICBpbml0UXVldWUocXVldWVTaXplID0gMykge1xuICAgIHJldHVybiBuZXcgR2FtZSh7XG4gICAgICAuLi50aGlzLFxuICAgICAgcXVldWU6IFsuLi5uZXcgQXJyYXkocXVldWVTaXplKV0ubWFwKGNyZWF0ZVJhbmRvbVRldHJpbWlubyksXG4gICAgfSk7XG4gIH1cblxuICBpc0VtcHR5KHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFja1t5XSAmJiAhdGhpcy5zdGFja1t5XVt4XTtcbiAgfVxuXG4gIGlzT3V0T2ZCb3VuZHMoeCwgeSkge1xuICAgIHJldHVybiB4IDwgMCB8fCB4ID49IHRoaXMud2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIGlzVmFsaWRDaHVuayhjaHVuaykge1xuICAgIHJldHVybiBjaHVuay5ibG9ja3MuZXZlcnkoKGxpbmUsIHkpID0+IChcbiAgICAgIGxpbmUuZXZlcnkoKGJsb2NrLCB4KSA9PiAoXG4gICAgICAgICFjaHVuay5ibG9ja3NbeV1beF1cbiAgICAgICAgICB8fCAodGhpcy5pc0VtcHR5KGNodW5rLnggKyB4LCBjaHVuay55ICsgeSlcbiAgICAgICAgICAgICYmICF0aGlzLmlzT3V0T2ZCb3VuZHMoY2h1bmsueCArIHgsIGNodW5rLnkgKyB5KSlcbiAgICAgICkpXG4gICAgKSk7XG4gIH1cblxuICBsb2NrQ2h1bmsoY2h1bmssIHdpbGxGb3JjZSkge1xuICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zdGFjay5zbGljZSgpO1xuXG4gICAgY2h1bmsuYmxvY2tzLmZvckVhY2goKGxpbmUsIHkpID0+IGxpbmUuZm9yRWFjaCgoYmxvY2ssIHgpID0+IHtcbiAgICAgIGlmICghYmxvY2spIHJldHVybjtcbiAgICAgIHN0YWNrW2NodW5rLnkgKyB5XVtjaHVuay54ICsgeF0gPSB3aWxsRm9yY2VcbiAgICAgICAgPyB7IG9yZGVyOiBibG9jaywgdGV0cmltaW5vSWQ6IGNodW5rLmlkIH1cbiAgICAgICAgOiBjaHVuay5ibG9ja3NbeV1beF07XG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgR2FtZSh7IC4uLnRoaXMsIHN0YWNrIH0pO1xuICB9XG5cbiAgbG9ja1RldHJpbWlubygpIHtcbiAgICByZXR1cm4gbmV3IEdhbWUoe1xuICAgICAgLi4udGhpcy5sb2NrQ2h1bmsodGhpcy50ZXRyaW1pbm8sIHRydWUpLFxuICAgICAgdGV0cmltaW5vOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgbWFya0Z1bGxMaW5lcygpIHtcbiAgICByZXR1cm4gbmV3IEdhbWUoe1xuICAgICAgLi4udGhpcyxcbiAgICAgIGZ1bGxMaW5lc0luZGV4ZXM6IHRoaXMuc3RhY2tcbiAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAoZnVsbExpbmVzLCBsaW5lLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgbGluZS5ldmVyeShibG9jayA9PiBibG9jaykgPyBmdWxsTGluZXMuY29uY2F0KGluZGV4KSA6IGZ1bGxMaW5lc1xuICAgICAgICAgICksXG4gICAgICAgICAgW10sXG4gICAgICAgIClcbiAgICAgICAgLnJldmVyc2UoKSxcbiAgICB9KTtcbiAgfVxuXG4gIG1vdmVUZXRyaW1pbm8oW3gsIHldKSB7XG4gICAgY29uc3QgbmV4dCA9IHRoaXMudGV0cmltaW5vLm1vdmUoW3gsIHldKTtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkQ2h1bmsobmV4dCkpIHJldHVybiB0aGlzO1xuICAgIHJldHVybiBuZXcgR2FtZSh7IC4uLnRoaXMsIHRldHJpbWlubzogbmV4dCB9KTtcbiAgfVxuXG4gIHJlc2V0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IEdhbWUoeyAuLi5vcHRpb25zLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0LCB3aWR0aDogdGhpcy53aWR0aCB9KTtcbiAgfVxuXG4gIHJvdGF0ZVRldHJpbWlubyhhbmdsZSkge1xuICAgIGlmICh0aGlzLnRldHJpbWluby5zaGFwZSA9PT0gJ28nKSByZXR1cm4gdGhpcztcblxuICAgIGxldCBuZXh0ID0gdGhpcy50ZXRyaW1pbm87XG4gICAgY29uc3QgaW5kZXggPSBhbmdsZSA9PT0gRElSRUNUSU9OLkNMT0NLV0lTRVxuICAgICAgPyBuZXh0LnJvdGF0aW9uXG4gICAgICA6IG5leHQucm90YXRlKGFuZ2xlKS5yb3RhdGlvbjtcbiAgICBjb25zdCB3YWxsS2lja3MgPSBuZXh0LnNoYXBlID09PSAnaSdcbiAgICAgID8gSV9XQUxMX0tJQ0tTX1RBQkxFW2luZGV4XVxuICAgICAgOiBKTFNUWl9XQUxMX0tJQ0tTX1RBQkxFW2luZGV4XTtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBkbyB7XG4gICAgICBjb25zdCBbeCwgeV0gPSB3YWxsS2lja3NbaV07XG4gICAgICBuZXh0ID0gdGhpcy50ZXRyaW1pbm8ucm90YXRlKGFuZ2xlKS5tb3ZlKFt4ICogYW5nbGUsIHkgKiBhbmdsZV0pO1xuICAgIH0gd2hpbGUgKCF0aGlzLmlzVmFsaWRDaHVuayhuZXh0KSAmJiB3YWxsS2lja3NbKytpXSk7XG4gICAgcmV0dXJuIGkgPCB3YWxsS2lja3MubGVuZ3RoXG4gICAgICA/IG5ldyBHYW1lKHsgLi4udGhpcywgdGV0cmltaW5vOiBuZXh0IH0pXG4gICAgICA6IHRoaXM7XG4gIH1cblxuICBzaGlmdFF1ZXVlKCkge1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5xdWV1ZS5zbGljZSgpO1xuXG4gICAgcXVldWUucHVzaChjcmVhdGVSYW5kb21UZXRyaW1pbm8oKSk7XG5cbiAgICBsZXQgdGV0cmltaW5vID0gcXVldWUuc2hpZnQoKTtcbiAgICB0ZXRyaW1pbm8gPSB0ZXRyaW1pbm8ubW92ZVRvKFtcbiAgICAgIE1hdGguZmxvb3IoKHRoaXMud2lkdGggLSB0ZXRyaW1pbm8uYmxvY2tzLmxlbmd0aCkgLyAyKSxcbiAgICAgIDAsXG4gICAgXSk7XG4gICAgcmV0dXJuIG5ldyBHYW1lKHsgLi4udGhpcywgcXVldWUsIHRldHJpbWlubyB9KTtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGVcbiAgIGFycmF5LWJyYWNrZXQtbmV3bGluZSxcbiAgIGFycmF5LWVsZW1lbnQtbmV3bGluZSxcbiAgIGNvbW1hLXNwYWNpbmcsXG4gICBpbmRlbnQgKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgJysnOiBbWzAsMCwwLDEsMCwwLDBdLFxuICAgICAgICBbMCwwLDAsMSwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwxLDAsMCwwXSxcbiAgICAgICAgWzEsMSwxLDEsMSwxLDFdLFxuICAgICAgICBbMCwwLDAsMSwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwxLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDEsMCwwLDBdXSxcblxuICAnLSc6IFtbMCwwLDAsMCwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwwLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDAsMCwwLDBdLFxuICAgICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICAgIFswLDAsMCwwLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDAsMCwwLDBdLFxuICAgICAgICBbMCwwLDAsMCwwLDAsMF1dLFxuXG4gIDA6IFtbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMCwwLDEsMF0sXG4gICAgICBbMCwwLDEsMSwxLDAsMF1dLFxuXG4gIDE6IFtbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwxLDEsMSwxLDEsMV1dLFxuXG4gIDI6IFtbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMV0sXG4gICAgICBbMCwwLDAsMSwxLDEsMF0sXG4gICAgICBbMCwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDEsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV1dLFxuXG4gIDM6IFtbMCwxLDEsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIDQ6IFtbMCwwLDAsMSwxLDEsMF0sXG4gICAgICBbMCwwLDEsMSwxLDEsMF0sXG4gICAgICBbMCwxLDEsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMF0sXG4gICAgICBbMCwwLDAsMCwxLDEsMF1dLFxuXG4gIDU6IFtbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIDY6IFtbMCwwLDEsMSwxLDEsMF0sXG4gICAgICBbMCwxLDEsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIDc6IFtbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF1dLFxuXG4gIDg6IFtbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIDk6IFtbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMF0sXG4gICAgICBbMCwxLDEsMSwxLDAsMF1dLFxuXG4gIGE6IFtbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwxLDEsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIGI6IFtbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF1dLFxuXG4gIGM6IFtbMCwwLDEsMSwxLDEsMF0sXG4gICAgICBbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMCwwLDEsMSwxLDEsMF1dLFxuXG4gIGQ6IFtbMSwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDEsMSwxLDAsMF1dLFxuXG4gIGU6IFtbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV1dLFxuXG4gIGY6IFtbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF1dLFxuXG4gIGc6IFtbMCwwLDEsMSwxLDEsMV0sXG4gICAgICBbMCwxLDEsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMCwwLDEsMSwxLDEsMV1dLFxuXG4gIGg6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIGk6IFtbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMCwwLDEsMSwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF1dLFxuXG4gIGo6IFtbMCwwLDAsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIGs6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMSwxLDAsMF0sXG4gICAgICBbMSwxLDEsMSwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDAsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwxLDEsMV1dLFxuXG4gIGw6IFtbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV1dLFxuXG4gIG06IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMCwxLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMSwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIG46IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIG86IFtbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIHA6IFtbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF1dLFxuXG4gIHE6IFtbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMSwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMCwxLDEsMSwxLDAsMV1dLFxuXG4gIHI6IFtbMSwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwxLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDAsMSwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwxLDEsMV1dLFxuXG4gIHM6IFtbMCwxLDEsMSwxLDAsMF0sXG4gICAgICBbMSwxLDAsMCwxLDEsMF0sXG4gICAgICBbMSwxLDAsMCwwLDAsMF0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIHQ6IFtbMCwxLDEsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF1dLFxuXG4gIHU6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF1dLFxuXG4gIHY6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMCwxLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwwLDAsMF1dLFxuXG4gIHc6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDAsMSwwLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMSwxLDEsMCwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIHg6IFtbMSwxLDAsMCwwLDEsMV0sXG4gICAgICBbMSwxLDEsMCwxLDEsMV0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwxLDEsMSwxLDEsMF0sXG4gICAgICBbMSwxLDEsMCwxLDEsMV0sXG4gICAgICBbMSwxLDAsMCwwLDEsMV1dLFxuXG4gIHk6IFtbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMCwxLDEsMCwwLDEsMV0sXG4gICAgICBbMCwwLDEsMSwxLDEsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF0sXG4gICAgICBbMCwwLDAsMSwxLDAsMF1dLFxuXG4gIHo6IFtbMSwxLDEsMSwxLDEsMV0sXG4gICAgICBbMCwwLDAsMCwxLDEsMV0sXG4gICAgICBbMCwwLDAsMSwxLDEsMF0sXG4gICAgICBbMCwwLDEsMSwxLDAsMF0sXG4gICAgICBbMCwxLDEsMSwwLDAsMF0sXG4gICAgICBbMSwxLDEsMCwwLDAsMF0sXG4gICAgICBbMSwxLDEsMSwxLDEsMV1dLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJyxcbiAgR1JBVklUWTogJ0dSQVZJVFknLFxuICBORVdfR0FNRTogJ05FV19HQU1FJyxcbiAgUEFVU0VEOiAnUEFVU0VEJyxcbn07XG4iLCJpbXBvcnQgQ2hhciBmcm9tICd1dGlscy9jaGFyJztcbmltcG9ydCBTdGF0ZSBmcm9tICdlbnVtcy9zdGF0ZSc7XG5cbmNvbnN0IEJMSU5LX0RVUkFUSU9OID0gMjAwO1xuY29uc3QgQkxPQ0tfUElYRUxfU0laRSA9IDM7XG5jb25zdCBCTE9DS19QSVhFTFMgPSA4O1xuY29uc3QgQkxPQ0tfU0laRSA9IEJMT0NLX1BJWEVMUyAqIEJMT0NLX1BJWEVMX1NJWkU7XG5cbmNvbnN0IENIQVJfUElYRUxfU0laRSA9IDI7XG5jb25zdCBDSEFSX1BJWEVMUyA9IDc7XG5cbi8vIGNvbnN0IGNvbG9ycyA9IFsnIzQxNDE0MScsICcjNmI3MzUzJywgJyM4Yjk1NmQnLCAnI2M0Y2ZhMSddO1xuY29uc3QgY29sb3JzID0gWycjMjcyNzE4JywgJyM2ODY4NTAnLCAnI2EwYTA4NicsICcjYzdjN2E3J107XG5cbmNvbnN0IHRldHJpbWlub1NpemUgPSB7XG4gIGk6IFs0LCAxXSxcbiAgajogWzMsIDJdLFxuICBsOiBbMywgMl0sXG4gIG86IFsyLCAyXSxcbiAgczogWzMsIDJdLFxuICB0OiBbMywgMl0sXG4gIHo6IFszLCAyXSxcbn07XG5cbmNvbnN0IGluaXRDYW52YXMgPSAoaWQsIHsgaGVpZ2h0LCBzY2FsZSA9IEJMT0NLX1NJWkUsIHdpZHRoIH0pID0+IHtcbiAgY29uc3QgY2FudmFzID0gaWRcbiAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGNhbnZhcy5oZWlnaHQgPSBzY2FsZSAqIGhlaWdodDtcbiAgY2FudmFzLndpZHRoID0gc2NhbGUgKiB3aWR0aDtcbiAgY3R4LmZvbnQgPSBgJHtCTE9DS19TSVpFICogMC44fXB4IFwic291cmNlIGNvZGUgcHJvXCJgO1xuICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgcmV0dXJuIFtjdHgsIGNhbnZhc107XG59O1xuXG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItMCcsIGNvbG9yc1swXSk7XG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItMScsIGNvbG9yc1sxXSk7XG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItMicsIGNvbG9yc1syXSk7XG5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItMycsIGNvbG9yc1szXSk7XG5cbmV4cG9ydCBkZWZhdWx0ICh7IGhlaWdodCwgd2lkdGggfSkgPT4ge1xuICBjb25zdCBbZ2FtZUJvYXJkQ3R4XSA9IGluaXRDYW52YXMoJ2dhbWVCb2FyZCcsIHsgaGVpZ2h0LCB3aWR0aCB9KTtcbiAgY29uc3QgW2RpYWxvZ0JveEN0eCwgZGlhbG9nQm94Q2FudmFzXSA9IGluaXRDYW52YXMoJ2RpYWxvZ0JveCcsIHtcbiAgICBoZWlnaHQ6IChDSEFSX1BJWEVMUyArIDEpICogKDMgKyAyKSAtIDEsXG4gICAgc2NhbGU6IENIQVJfUElYRUxfU0laRSxcbiAgICB3aWR0aDogKENIQVJfUElYRUxTICsgMSkgKiAoMTAgKyAyKSAtIDEsXG4gIH0pO1xuICBjb25zdCBxdWV1ZUNhbnZhcyA9IFtdO1xuICBjb25zdCBxdWV1ZUN0eCA9IFtdO1xuXG4gIGNvbnN0IGRyYXdDaGFyID0gKGNoYXJhY3RlciwgY3R4LCBpc0FjdGl2ZSkgPT4ge1xuICAgIGlmIChjaGFyYWN0ZXIgPT09ICcgJykgcmV0dXJuO1xuXG4gICAgQ2hhcltjaGFyYWN0ZXIudG9Mb3dlckNhc2UoKV0uZm9yRWFjaCgocm93LCB5KSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGlzQWN0aXZlID8gY29sb3JzWzNdIDogY29sb3JzWzBdO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgIHggKiBDSEFSX1BJWEVMX1NJWkUsXG4gICAgICAgICAgICB5ICogQ0hBUl9QSVhFTF9TSVpFLFxuICAgICAgICAgICAgQ0hBUl9QSVhFTF9TSVpFLFxuICAgICAgICAgICAgQ0hBUl9QSVhFTF9TSVpFXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcHJpbnRTdHJpbmcgPSAoc3RyaW5nLCBsaW5lTnVtYmVyLCBjdHgsIGlzQWN0aXZlKSA9PiB7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGlzQWN0aXZlID8gY29sb3JzWzBdIDogY29sb3JzWzNdO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIChDSEFSX1BJWEVMUyAtIDQpICogQ0hBUl9QSVhFTF9TSVpFLFxuICAgICAgKChsaW5lTnVtYmVyICsgMSkgKiAoQ0hBUl9QSVhFTFMgKyAxKSAtIDQpICogQ0hBUl9QSVhFTF9TSVpFLFxuICAgICAgKChDSEFSX1BJWEVMUyArIDEpICogMTAgLSAxICsgOCkgKiBDSEFSX1BJWEVMX1NJWkUsXG4gICAgICAoQ0hBUl9QSVhFTFMgKyA4KSAqIENIQVJfUElYRUxfU0laRVxuICAgICk7XG4gICAgc3RyaW5nLnNwbGl0KCcnKS5mb3JFYWNoKChjaGFyYWN0ZXIsIGkpID0+IHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKFxuICAgICAgICAoKGkgKyAxKSAqIChDSEFSX1BJWEVMUyArIDEpIC0gMSkgKiBDSEFSX1BJWEVMX1NJWkUsXG4gICAgICAgIChsaW5lTnVtYmVyICsgMSkgKiAoQ0hBUl9QSVhFTFMgKyAxKSAqIENIQVJfUElYRUxfU0laRVxuICAgICAgKTtcbiAgICAgIGRyYXdDaGFyKGNoYXJhY3RlciwgY3R4LCBpc0FjdGl2ZSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIFsuLi5uZXcgQXJyYXkoMSldLmZvckVhY2goKHRldHJpbWlubywgaSkgPT4ge1xuICAgIGNvbnN0IFtjdHgsIGNhbnZhc10gPSBpbml0Q2FudmFzKG51bGwsIHsgaGVpZ2h0OiA0LCB3aWR0aDogNCB9KTtcblxuICAgIHF1ZXVlQ2FudmFzW2ldID0gY2FudmFzO1xuICAgIHF1ZXVlQ3R4W2ldID0gY3R4O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWV1ZScpLmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gIH0pO1xuXG4gIGNvbnN0IHJlbmRlcklCbG9jayA9ICh4LCB5LCBjdHgsIHRldHJpbWlubywgb3JkZXIpID0+IHtcbiAgICBjb25zdCBkcmF3UG9pbnQgPSAoZHgsIGR5KSA9PiBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIGR4ICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgZHkgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuXG4gICAgaWYgKHRldHJpbWluby5yb3RhdGlvbiAlIDIpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKCh4ICsgMC41KSAqIEJMT0NLX1NJWkUsICh5ICsgMC41KSAqIEJMT0NLX1NJWkUpO1xuICAgICAgY3R4LnJvdGF0ZSgoOTAgKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICBjdHgudHJhbnNsYXRlKC0oeCArIDAuNSkgKiBCTE9DS19TSVpFLCAtKHkgKyAwLjUpICogQkxPQ0tfU0laRSk7XG4gICAgfVxuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1swXTtcbiAgICBjdHguZmlsbFJlY3QoeCAqIEJMT0NLX1NJWkUsIHkgKiBCTE9DS19TSVpFLCBCTE9DS19TSVpFLCBCTE9DS19TSVpFKTtcblxuICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICBjYXNlIDE6XG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzJdO1xuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICB4ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgIHkgKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgICAgQkxPQ0tfU0laRSAtIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRVxuICAgICAgKTtcblxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1sxXTtcbiAgICAgIGRyYXdQb2ludCgyLCAxKTtcbiAgICAgIGRyYXdQb2ludCg1LCAxKTtcbiAgICAgIGRyYXdQb2ludCgxLCAzKTtcbiAgICAgIGRyYXdQb2ludCg0LCAzKTtcbiAgICAgIGRyYXdQb2ludCg2LCAzKTtcbiAgICAgIGRyYXdQb2ludCgyLCA1KTtcbiAgICAgIGRyYXdQb2ludCg2LCA1KTtcbiAgICAgIGRyYXdQb2ludCg0LCA2KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSA0OlxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1syXTtcbiAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgeCAqIEJMT0NLX1NJWkUsXG4gICAgICAgIHkgKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgICAgQkxPQ0tfU0laRSAtIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRVxuICAgICAgKTtcblxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1sxXTtcbiAgICAgIGRyYXdQb2ludCgwLCAxKTtcbiAgICAgIGRyYXdQb2ludCgxLCA0KTtcbiAgICAgIGRyYXdQb2ludCgyLCAyKTtcbiAgICAgIGRyYXdQb2ludCgyLCA2KTtcbiAgICAgIGRyYXdQb2ludCgzLCA0KTtcbiAgICAgIGRyYXdQb2ludCg0LCAxKTtcbiAgICAgIGRyYXdQb2ludCg0LCA2KTtcbiAgICAgIGRyYXdQb2ludCg1LCAzKTtcbiAgICAgIGRyYXdQb2ludCg2LCA1KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMl07XG4gICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgIHggKiBCTE9DS19TSVpFLFxuICAgICAgICB5ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgIEJMT0NLX1NJWkUsXG4gICAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRVxuICAgICAgKTtcblxuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1sxXTtcbiAgICAgIGRyYXdQb2ludCgwLCAxKTtcbiAgICAgIGRyYXdQb2ludCgyLCAxKTtcbiAgICAgIGRyYXdQb2ludCg0LCAxKTtcbiAgICAgIGRyYXdQb2ludCg2LCAyKTtcbiAgICAgIGRyYXdQb2ludCgyLCAzKTtcbiAgICAgIGRyYXdQb2ludCgwLCA0KTtcbiAgICAgIGRyYXdQb2ludCg1LCA0KTtcbiAgICAgIGRyYXdQb2ludCgzLCA1KTtcbiAgICAgIGRyYXdQb2ludCg3LCA1KTtcbiAgICAgIGRyYXdQb2ludCgxLCA2KTtcbiAgICAgIGRyYXdQb2ludCg1LCA2KTtcbiAgICB9XG5cbiAgICBpZiAodGV0cmltaW5vLnJvdGF0aW9uICUgMikge1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVySkJsb2NrID0gKHgsIHksIGN0eCkgPT4ge1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMF07XG4gICAgY3R4LmZpbGxSZWN0KHggKiBCTE9DS19TSVpFLCB5ICogQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzJdO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHggKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHggKiBCTE9DS19TSVpFICsgMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIDIgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDQgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDQgKiBCTE9DS19QSVhFTF9TSVpFXG4gICAgKTtcblxuICAgIGN0eC5jbGVhclJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIDMgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgeSAqIEJMT0NLX1NJWkUgKyAzICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA2ICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA2ICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyTEJsb2NrID0gKHgsIHksIGN0eCkgPT4ge1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMF07XG4gICAgY3R4LmZpbGxSZWN0KHggKiBCTE9DS19TSVpFLCB5ICogQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzFdO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHggKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyT0Jsb2NrID0gKHgsIHksIGN0eCkgPT4ge1xuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMF07XG4gICAgY3R4LmZpbGxSZWN0KHggKiBCTE9DS19TSVpFLCB5ICogQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSk7XG5cbiAgICBjdHguY2xlYXJSZWN0KFxuICAgICAgeCAqIEJMT0NLX1NJWkUgKyBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgeSAqIEJMT0NLX1NJWkUgKyBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDIgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDIgKiBCTE9DS19QSVhFTF9TSVpFXG4gICAgKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMF07XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgeCAqIEJMT0NLX1NJWkUgKyAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNCAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNCAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclNCbG9jayA9ICh4LCB5LCBjdHgpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgIGN0eC5maWxsUmVjdCh4ICogQkxPQ0tfU0laRSwgeSAqIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUpO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1sxXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1swXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIDIgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgeSAqIEJMT0NLX1NJWkUgKyAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA0ICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA0ICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG5cbiAgICBjdHguY2xlYXJSZWN0KFxuICAgICAgeCAqIEJMT0NLX1NJWkUgKyAzICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgMyAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclRCbG9jayA9ICh4LCB5LCBjdHgpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgIGN0eC5maWxsUmVjdCh4ICogQkxPQ0tfU0laRSwgeSAqIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUpO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1syXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1szXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIDIgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgeSAqIEJMT0NLX1NJWkUgKyAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA0ICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA0ICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHggKiBCTE9DS19TSVpFICsgMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIDUgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIHggKiBCTE9DS19TSVpFICsgMyAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIDMgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDUgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgQkxPQ0tfU0laRSAtIDUgKiBCTE9DS19QSVhFTF9TSVpFXG4gICAgKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMl07XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgeCAqIEJMT0NLX1NJWkUgKyAzICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIHkgKiBCTE9DS19TSVpFICsgMyAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gNiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclpCbG9jayA9ICh4LCB5LCBjdHgpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgIGN0eC5maWxsUmVjdCh4ICogQkxPQ0tfU0laRSwgeSAqIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUsIEJMT0NLX1NJWkUpO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1syXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICB5ICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICApO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yc1swXTtcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICB4ICogQkxPQ0tfU0laRSArIDMgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgeSAqIEJMT0NLX1NJWkUgKyAzICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA2ICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgIEJMT0NLX1NJWkUgLSA2ICogQkxPQ0tfUElYRUxfU0laRVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQmxvY2sgPSAoeCwgeSwgdGV0cmltaW5vLCBvcmRlciwgY3R4ID0gZ2FtZUJvYXJkQ3R4KSA9PiB7XG4gICAgc3dpdGNoICh0ZXRyaW1pbm8/LnNoYXBlKSB7XG4gICAgY2FzZSAnaSc6XG4gICAgICByZW5kZXJJQmxvY2soeCwgeSwgY3R4LCB0ZXRyaW1pbm8sIG9yZGVyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2onOlxuICAgICAgcmVuZGVySkJsb2NrKHgsIHksIGN0eCwgdGV0cmltaW5vLCBvcmRlcik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsJzpcbiAgICAgIHJlbmRlckxCbG9jayh4LCB5LCBjdHgsIHRldHJpbWlubywgb3JkZXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbyc6XG4gICAgICByZW5kZXJPQmxvY2soeCwgeSwgY3R4LCB0ZXRyaW1pbm8sIG9yZGVyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3MnOlxuICAgICAgcmVuZGVyU0Jsb2NrKHgsIHksIGN0eCwgdGV0cmltaW5vLCBvcmRlcik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0JzpcbiAgICAgIHJlbmRlclRCbG9jayh4LCB5LCBjdHgsIHRldHJpbWlubywgb3JkZXIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAneic6XG4gICAgICByZW5kZXJaQmxvY2soeCwgeSwgY3R4LCB0ZXRyaW1pbm8sIG9yZGVyKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JzWzBdO1xuICAgICAgY3R4LmZpbGxSZWN0KHggKiBCTE9DS19TSVpFLCB5ICogQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSwgQkxPQ0tfU0laRSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlckxvY2tlZEJsb2NrcyA9ICh7XG4gICAgZnVsbExpbmVzSW5kZXhlcyxcbiAgICBzdGFjayxcbiAgICBzdGFydGVkQXQsXG4gICAgdGV0cmltaW5vZXMsXG4gICAgdGltZXN0YW1wLFxuICB9KSA9PiB7XG4gICAgZ2FtZUJvYXJkQ3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCAqIEJMT0NLX1NJWkUsIGhlaWdodCAqIEJMT0NLX1NJWkUpO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgc3RhY2subGVuZ3RoOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgc3RhY2tbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKCFzdGFja1t5XVt4XSkgY29udGludWU7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZ1bGxMaW5lc0luZGV4ZXMuaW5jbHVkZXMoeSlcbiAgICAgICAgICAmJiBNYXRoLmZsb29yKCh0aW1lc3RhbXAgLSBzdGFydGVkQXQpIC8gQkxJTktfRFVSQVRJT04pICUgMlxuICAgICAgICApIHtcbiAgICAgICAgICBnYW1lQm9hcmRDdHguZmlsbFN0eWxlID0gY29sb3JzWzJdO1xuICAgICAgICAgIGdhbWVCb2FyZEN0eC5maWxsUmVjdChcbiAgICAgICAgICAgIHggKiBCTE9DS19TSVpFLFxuICAgICAgICAgICAgeSAqIEJMT0NLX1NJWkUsXG4gICAgICAgICAgICBCTE9DS19TSVpFLFxuICAgICAgICAgICAgQkxPQ0tfU0laRVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVuZGVyQmxvY2soXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHRldHJpbWlub2VzLmJ5SWRbc3RhY2tbeV1beF0udGV0cmltaW5vSWRdLFxuICAgICAgICAgICAgc3RhY2tbeV1beF0ub3JkZXJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlckdob3N0ID0gZ2hvc3QgPT4ge1xuICAgIGlmICghZ2hvc3QpIHJldHVybjtcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgZ2hvc3QuYmxvY2tzLmxlbmd0aDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGdob3N0LmJsb2Nrc1t5XS5sZW5ndGg7IHgrKykge1xuICAgICAgICBpZiAoIWdob3N0LmJsb2Nrc1t5XVt4XSkgY29udGludWU7XG5cbiAgICAgICAgZ2FtZUJvYXJkQ3R4LmNsZWFyUmVjdChcbiAgICAgICAgICBnaG9zdC54ICogQkxPQ0tfU0laRSArIHggKiBCTE9DS19TSVpFLFxuICAgICAgICAgIGdob3N0LnkgKiBCTE9DS19TSVpFICsgeSAqIEJMT0NLX1NJWkUsXG4gICAgICAgICAgQkxPQ0tfU0laRSxcbiAgICAgICAgICBCTE9DS19TSVpFXG4gICAgICAgICk7XG4gICAgICAgIGdhbWVCb2FyZEN0eC5maWxsU3R5bGUgPSBjb2xvcnNbMl07XG4gICAgICAgIGdhbWVCb2FyZEN0eC5maWxsUmVjdChcbiAgICAgICAgICAoZ2hvc3QueCArIHgpICogQkxPQ0tfU0laRSArIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgICAgKGdob3N0LnkgKyB5KSAqIEJMT0NLX1NJWkUgKyBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgICAgIEJMT0NLX1NJWkUgLSAyICogQkxPQ0tfUElYRUxfU0laRSxcbiAgICAgICAgICBCTE9DS19TSVpFIC0gMiAqIEJMT0NLX1BJWEVMX1NJWkVcbiAgICAgICAgKTtcbiAgICAgICAgZ2FtZUJvYXJkQ3R4LmNsZWFyUmVjdChcbiAgICAgICAgICAoZ2hvc3QueCArIHgpICogQkxPQ0tfU0laRSArIDIgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgICAgIChnaG9zdC55ICsgeSkgKiBCTE9DS19TSVpFICsgMiAqIEJMT0NLX1BJWEVMX1NJWkUsXG4gICAgICAgICAgQkxPQ0tfU0laRSAtIDQgKiBCTE9DS19QSVhFTF9TSVpFLFxuICAgICAgICAgIEJMT0NLX1NJWkUgLSA0ICogQkxPQ0tfUElYRUxfU0laRVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW5kZXJRdWV1ZSA9IHF1ZXVlID0+IHtcbiAgICBxdWV1ZUN0eC5mb3JFYWNoKChjdHgsIGkpID0+IHtcbiAgICAgIGNvbnN0IHRldHJpbWlubyA9IHF1ZXVlW2ldO1xuXG4gICAgICBpZiAoIXRldHJpbWlubykgcmV0dXJuO1xuICAgICAgcXVldWVDYW52YXNbaV0ud2lkdGggPSBCTE9DS19TSVpFICogdGV0cmltaW5vU2l6ZVt0ZXRyaW1pbm8uc2hhcGVdWzBdO1xuICAgICAgcXVldWVDYW52YXNbaV0uaGVpZ2h0ID0gQkxPQ0tfU0laRSAqIHRldHJpbWlub1NpemVbdGV0cmltaW5vLnNoYXBlXVsxXTtcbiAgICAgIGN0eC5jbGVhclJlY3QoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRldHJpbWlub1NpemVbdGV0cmltaW5vLnNoYXBlXVswXSAqIEJMT0NLX1NJWkUsXG4gICAgICAgIHRldHJpbWlub1NpemVbdGV0cmltaW5vLnNoYXBlXVsxXSAqIEJMT0NLX1NJWkVcbiAgICAgICk7XG4gICAgICBjdHguZm9udCA9ICcyMHB4IFwic291cmNlIGNvZGUgcHJvXCInO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGV0cmltaW5vU2l6ZVt0ZXRyaW1pbm8uc2hhcGVdWzFdOyB5KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0ZXRyaW1pbm9TaXplW3RldHJpbWluby5zaGFwZV1bMF07IHgrKykge1xuICAgICAgICAgIGlmICghdGV0cmltaW5vLmJsb2Nrc1t5XVt4XSAmJiB0ZXRyaW1pbm8uc2hhcGUgIT09ICdpJykgY29udGludWU7XG5cbiAgICAgICAgICByZW5kZXJCbG9jayh4LCB5LCB0ZXRyaW1pbm8sIHRldHJpbWluby5ibG9ja3NbeV1beF0gfHwgeCArIDEsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUZXRyaW1pbm8gPSB0ZXRyaW1pbm8gPT4ge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGV0cmltaW5vLmJsb2Nrcy5sZW5ndGg7IHkrKykge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0ZXRyaW1pbm8uYmxvY2tzW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmICghdGV0cmltaW5vLmJsb2Nrc1t5XVt4XSkgY29udGludWU7XG5cbiAgICAgICAgZ2FtZUJvYXJkQ3R4LmNsZWFyUmVjdChcbiAgICAgICAgICAodGV0cmltaW5vLnggKyB4KSAqIEJMT0NLX1NJWkUsXG4gICAgICAgICAgKHRldHJpbWluby55ICsgeSkgKiBCTE9DS19TSVpFLFxuICAgICAgICAgIEJMT0NLX1NJWkUsXG4gICAgICAgICAgQkxPQ0tfU0laRVxuICAgICAgICApO1xuICAgICAgICBnYW1lQm9hcmRDdHguZmlsbFN0eWxlID0gJyNDMjE4NUInO1xuICAgICAgICByZW5kZXJCbG9jayhcbiAgICAgICAgICB0ZXRyaW1pbm8ueCArIHgsXG4gICAgICAgICAgdGV0cmltaW5vLnkgKyB5LFxuICAgICAgICAgIHRldHJpbWlubyxcbiAgICAgICAgICB0ZXRyaW1pbm8uYmxvY2tzW3ldW3hdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyKHsgZ2FtZSwgbGV2ZWwsIG1lbnVJbmRleCwgbmFtZTogc3RhdGUsIHN0YXJ0ZWRBdCwgdGltZXN0YW1wIH0pIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZnVsbExpbmVzSW5kZXhlcyxcbiAgICAgICAgZ2hvc3QsXG4gICAgICAgIHF1ZXVlLFxuICAgICAgICBzdGFjayxcbiAgICAgICAgdGV0cmltaW5vLFxuICAgICAgICB0ZXRyaW1pbm9lcyxcbiAgICAgIH0gPSBnYW1lO1xuXG4gICAgICByZW5kZXJRdWV1ZShxdWV1ZSk7XG4gICAgICByZW5kZXJMb2NrZWRCbG9ja3Moe1xuICAgICAgICBmdWxsTGluZXNJbmRleGVzLFxuICAgICAgICBzdGFjayxcbiAgICAgICAgc3RhcnRlZEF0LFxuICAgICAgICB0ZXRyaW1pbm9lcyxcbiAgICAgICAgdGltZXN0YW1wLFxuICAgICAgfSk7XG4gICAgICBpZiAodGV0cmltaW5vKSB7XG4gICAgICAgIHJlbmRlckdob3N0KGdob3N0KTtcbiAgICAgICAgcmVuZGVyVGV0cmltaW5vKHRldHJpbWlubyk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgU3RhdGUuTkVXX0dBTUU6XG4gICAgICAgIHByaW50U3RyaW5nKFxuICAgICAgICAgIGBMZXZlbCAgICR7U3RyaW5nKGxldmVsICsgMSkucGFkU3RhcnQoMiwgMCl9YCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIGRpYWxvZ0JveEN0eCxcbiAgICAgICAgICBtZW51SW5kZXggPT09IDBcbiAgICAgICAgKTtcbiAgICAgICAgcHJpbnRTdHJpbmcoJ05ldyBnYW1lJywgMiwgZGlhbG9nQm94Q3R4LCBtZW51SW5kZXggPT09IDEpO1xuICAgICAgICByZXR1cm47XG5cbiAgICAgIGNhc2UgU3RhdGUuUEFVU0VEOlxuICAgICAgICBwcmludFN0cmluZygnICBQYXVzZWQgICcsIDAsIGRpYWxvZ0JveEN0eCwgbWVudUluZGV4ID09PSAwKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBjYXNlIFN0YXRlLkdBTUVfT1ZFUjpcbiAgICAgICAgcHJpbnRTdHJpbmcoJ0dhbWUgb3ZlcicsIDAsIGRpYWxvZ0JveEN0eCwgbWVudUluZGV4ID09PSAwKTtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkaWFsb2dCb3hDdHguY2xlYXJSZWN0KFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBkaWFsb2dCb3hDYW52YXMud2lkdGgsXG4gICAgICAgICAgZGlhbG9nQm94Q2FudmFzLmhlaWdodFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuIiwiaW1wb3J0IGF1dG9iaW5kIGZyb20gJ2F1dG9iaW5kLWRlY29yYXRvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0c0hhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihkb21Ob2RlKSB7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgdGhpcy5sb2NrID0gbnVsbDtcbiAgICBkb21Ob2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7XG4gICAgZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25LZXlVcCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgdGhpcy5pbnB1dCA9IGV2ZW50LmNvZGU7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgb25LZXlVcCgpIHtcbiAgICB0aGlzLmlucHV0ID0gbnVsbDtcbiAgICB0aGlzLmxvY2sgPSBudWxsO1xuICB9XG5cbiAgY29uc3VtZSgpIHtcbiAgICB0aGlzLmxvY2sgPSB0aGlzLmlucHV0O1xuICB9XG5cbiAgcmVhZCgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NrID09PSB0aGlzLmlucHV0ID8gbnVsbCA6IHRoaXMuaW5wdXQ7XG4gIH1cbn1cbiIsImltcG9ydCBTdGF0ZSBmcm9tICdlbnVtcy9zdGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVPdmVyU3RhdGUge1xuICBjb25zdHJ1Y3Rvcih7IGdhbWUgfSkge1xuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgdGhpcy5uYW1lID0gU3RhdGUuR0FNRV9PVkVSO1xuICB9XG5cbiAgcHJvY2Vzc0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCIvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9jb2RlXG5leHBvcnQgZGVmYXVsdCB7XG4gIEE6ICdLZXlBJyxcbiAgQ1RSTF9MRUZUOiAnQ29udHJvbExlZnQnLFxuICBDVFJMX1JJR0hUOiAnQ29udHJvbFJpZ2h0JyxcbiAgRDogJ0tleUQnLFxuICBET1dOX0FSUk9XOiAnQXJyb3dEb3duJyxcbiAgRU5URVI6ICdFbnRlcicsXG4gIEVTQ0FQRTogJ0VzY2FwZScsXG4gIEYxOiAnRjEnLFxuICBMRUZUX0FSUk9XOiAnQXJyb3dMZWZ0JyxcbiAgUklHSFRfQVJST1c6ICdBcnJvd1JpZ2h0JyxcbiAgUzogJ0tleVMnLFxuICBTUEFDRTogJ1NwYWNlJyxcbiAgVVBfQVJST1c6ICdBcnJvd1VwJyxcbiAgWDogJ0tleVgnLFxuICBaOiAnS2V5WicsXG59O1xuIiwiaW1wb3J0IEdyYXZpdHlTdGF0ZSBmcm9tICdtb2RlbHMvc3RhdGVzL2dyYXZpdHknO1xuXG5jb25zdCBDTEVBUl9EVVJBVElPTiA9IDE0MDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmVzQ2xlYXJTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKHsgZ2FtZSwgc3RhcnRlZEF0ID0gMCB9KSB7XG4gICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IHN0YXJ0ZWRBdDtcbiAgfVxuXG4gIHByb2Nlc3NJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHVwZGF0ZSh0aW1lc3RhbXApIHtcbiAgICBsZXQgeyBnYW1lIH0gPSB0aGlzO1xuXG4gICAgZ2FtZSA9IGdhbWUubWFya0Z1bGxMaW5lcygpO1xuICAgIGlmIChnYW1lLmZ1bGxMaW5lc0luZGV4ZXMubGVuZ3RoKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRlZEF0KSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZEF0ID0gdGltZXN0YW1wO1xuICAgICAgICByZXR1cm4gbmV3IExpbmVzQ2xlYXJTdGF0ZSh7IC4uLnRoaXMsIGdhbWUgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXN0YW1wIDwgdGhpcy5zdGFydGVkQXQgKyBDTEVBUl9EVVJBVElPTikge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVzQ2xlYXJTdGF0ZSh7IC4uLnRoaXMsIGdhbWUgfSk7XG4gICAgICB9XG4gICAgICBnYW1lID0gZ2FtZS5jbGVhckxpbmVzKCk7XG4gICAgICByZXR1cm4gbmV3IExpbmVzQ2xlYXJTdGF0ZSh7IGdhbWUgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgR3Jhdml0eVN0YXRlKHsgLi4udGhpcywgZ2FtZSB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IEdyYXZpdHlTdGF0ZSBmcm9tICdtb2RlbHMvc3RhdGVzL2dyYXZpdHknO1xuaW1wb3J0IGtleSBmcm9tICdlbnVtcy9rZXknO1xuaW1wb3J0IFN0YXRlIGZyb20gJ2VudW1zL3N0YXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF1c2VkU3RhdGUge1xuICBjb25zdHJ1Y3Rvcih7IGdhbWUgfSkge1xuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgdGhpcy5uYW1lID0gU3RhdGUuUEFVU0VEO1xuICB9XG5cbiAgcHJvY2Vzc0lucHV0KGlucHV0SGFuZGxlcikge1xuICAgIHN3aXRjaCAoaW5wdXRIYW5kbGVyLnJlYWQoKSkge1xuICAgIGNhc2Uga2V5LkVTQ0FQRTpcbiAgICBjYXNlIGtleS5GMTpcbiAgICAgIGlucHV0SGFuZGxlci5jb25zdW1lKCk7XG4gICAgICByZXR1cm4gbmV3IEdyYXZpdHlTdGF0ZSh7XG4gICAgICAgIC4uLnRoaXMsXG4gICAgICAgIGxhc3RVcGRhdGVkQXQ6IHRoaXMudGltZXN0YW1wLFxuICAgICAgICBzdGFydGVkQXQ6IHRoaXMudGltZXN0YW1wLFxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OiByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImltcG9ydCBESVJFQ1RJT04gZnJvbSAnZW51bXMvZGlyZWN0aW9uJztcbmltcG9ydCBHYW1lT3ZlclN0YXRlIGZyb20gJ21vZGVscy9zdGF0ZXMvZ2FtZS1vdmVyJztcbmltcG9ydCBLZXkgZnJvbSAnZW51bXMva2V5JztcbmltcG9ydCBMaW5lc0NsZWFyU3RhdGUgZnJvbSAnbW9kZWxzL3N0YXRlcy9saW5lcy1jbGVhcic7XG5pbXBvcnQgUGF1c2VkU3RhdGUgZnJvbSAnbW9kZWxzL3N0YXRlcy9wYXVzZWQnO1xuaW1wb3J0IFN0YXRlIGZyb20gJ2VudW1zL3N0YXRlJztcblxuY29uc3QgREFTX0RFTEFZID0gMTAwMCAvIDE2ICogNDtcbmNvbnN0IEZSQU1FX0xFTkdUSF9BVF82MF9GUFMgPSAxMDAwIC8gNjA7XG5jb25zdCBMT0NLX0RFTEFZID0gNTAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmF2aXR5U3RhdGUge1xuICBjb25zdHJ1Y3Rvcih7IGRhcywgZ2FtZSwgbGFzdFVwZGF0ZWRBdCwgbG9ja0V4cGlyeSwgbW92ZXNMZWZ0LCBzdGFydGVkQXQgfSkge1xuICAgIHRoaXMuZGFzID0gZGFzO1xuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgdGhpcy5sYXN0VXBkYXRlZEF0ID0gbGFzdFVwZGF0ZWRBdCB8fCAwO1xuICAgIHRoaXMubG9ja0V4cGlyeSA9IGxvY2tFeHBpcnkgfHwgMDtcbiAgICB0aGlzLm1vdmVzTGVmdCA9IG1vdmVzTGVmdCB8fCAwO1xuICAgIHRoaXMubmFtZSA9IFN0YXRlLkdSQVZJVFk7XG4gICAgdGhpcy5zdGFydGVkQXQgPSBzdGFydGVkQXQgfHwgMDtcbiAgfVxuXG4gIGFwcGx5R3Jhdml0eShnYW1lLCB0aW1lc3RhbXApIHtcbiAgICBjb25zdCB7IGxhc3RVcGRhdGVkQXQsIHN0YXJ0ZWRBdCB9ID0gdGhpcztcbiAgICBjb25zdCBkdCA9IHRpbWVzdGFtcCAtIHN0YXJ0ZWRBdCAtIGxhc3RVcGRhdGVkQXQ7XG4gICAgY29uc3QgZHkgPSBNYXRoLmZsb29yKGR0ICogZ2FtZS5ncmF2aXR5IC8gRlJBTUVfTEVOR1RIX0FUXzYwX0ZQUyk7XG5cbiAgICBpZiAoZHkpIHRoaXMubGFzdFVwZGF0ZWRBdCA9IHRpbWVzdGFtcCAtIHN0YXJ0ZWRBdDtcbiAgICByZXR1cm4gZ2FtZS5tb3ZlVGV0cmltaW5vKFswLCBkeV0pO1xuICB9XG5cbiAgZGVsYXlBdXRvU2hpZnQoZGlyZWN0aW9uLCB0aW1lc3RhbXApIHtcbiAgICBjb25zdCB7IGRhcyB9ID0gdGhpcztcblxuICAgIGlmIChkYXMpIHtcbiAgICAgIGlmICh0aW1lc3RhbXAgPCBkYXMpIHJldHVybiB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMubW92ZVRldHJpbWlubyhkaXJlY3Rpb24sIHRpbWVzdGFtcCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgR3Jhdml0eVN0YXRlKHtcbiAgICAgIC4uLnRoaXMubW92ZVRldHJpbWlubyhkaXJlY3Rpb24sIHRpbWVzdGFtcCksXG4gICAgICBkYXM6IHRpbWVzdGFtcCArIERBU19ERUxBWSxcbiAgICB9KTtcbiAgfVxuXG4gIGhhcmREcm9wVGV0cmltaW5vKCkge1xuICAgIGNvbnN0IHsgZ2FtZSB9ID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgTGluZXNDbGVhclN0YXRlKHtcbiAgICAgIGdhbWU6IGdhbWUuaGFyZERyb3BUZXRyaW1pbm8oKS5sb2NrVGV0cmltaW5vKCksXG4gICAgfSk7XG4gIH1cblxuICBtb3ZlVGV0cmltaW5vKGRpcmVjdGlvbiwgdGltZXN0YW1wKSB7XG4gICAgY29uc3QgeyBnYW1lLCBsb2NrRXhwaXJ5IH0gPSB0aGlzO1xuICAgIGNvbnN0IG5leHQgPSBnYW1lLm1vdmVUZXRyaW1pbm8oZGlyZWN0aW9uKTtcblxuICAgIGlmIChuZXh0ID09PSBnYW1lKSByZXR1cm4gdGhpcztcbiAgICBpZiAobG9ja0V4cGlyeSkge1xuICAgICAgdGhpcy5sb2NrRXhwaXJ5ID0gdGltZXN0YW1wICsgTE9DS19ERUxBWTtcbiAgICAgIC0tdGhpcy5tb3Zlc0xlZnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgR3Jhdml0eVN0YXRlKHsgLi4udGhpcywgZ2FtZTogbmV4dCB9KTtcbiAgfVxuXG4gIHByb2Nlc3NJbnB1dChpbnB1dEhhbmRsZXIsIHRpbWVzdGFtcCkge1xuICAgIGNvbnN0IHsgZ2FtZSB9ID0gdGhpcztcblxuICAgIGlmICghaW5wdXRIYW5kbGVyLnJlYWQoKSkgcmV0dXJuIG5ldyBHcmF2aXR5U3RhdGUoeyAuLi50aGlzLCBkYXM6IG51bGwgfSk7XG4gICAgaWYgKCFnYW1lLnRldHJpbWlubykgcmV0dXJuIHRoaXM7XG5cbiAgICBzd2l0Y2ggKGlucHV0SGFuZGxlci5yZWFkKCkpIHtcbiAgICBjYXNlIEtleS5DVFJMX0xFRlQ6XG4gICAgY2FzZSBLZXkuQ1RSTF9SSUdIVDpcbiAgICBjYXNlIEtleS5aOlxuICAgICAgaW5wdXRIYW5kbGVyLmNvbnN1bWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRldHJpbWlubyhESVJFQ1RJT04uQ09VTlRFUkNMT0NLV0lTRSwgdGltZXN0YW1wKTtcblxuICAgIGNhc2UgS2V5LkRPV05fQVJST1c6XG4gICAgY2FzZSBLZXkuUzpcbiAgICAgIHJldHVybiB0aGlzLm1vdmVUZXRyaW1pbm8oRElSRUNUSU9OLkRPV04sIHRpbWVzdGFtcCk7XG5cbiAgICBjYXNlIEtleS5FU0NBUEU6XG4gICAgY2FzZSBLZXkuRjE6XG4gICAgICBpbnB1dEhhbmRsZXIuY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIG5ldyBQYXVzZWRTdGF0ZSh0aGlzKTtcblxuICAgIGNhc2UgS2V5LkxFRlRfQVJST1c6XG4gICAgY2FzZSBLZXkuQTpcbiAgICAgIHJldHVybiB0aGlzLmRlbGF5QXV0b1NoaWZ0KERJUkVDVElPTi5MRUZULCB0aW1lc3RhbXApO1xuXG4gICAgY2FzZSBLZXkuUklHSFRfQVJST1c6XG4gICAgY2FzZSBLZXkuRDpcbiAgICAgIHJldHVybiB0aGlzLmRlbGF5QXV0b1NoaWZ0KERJUkVDVElPTi5SSUdIVCwgdGltZXN0YW1wKTtcblxuICAgIGNhc2UgS2V5LlNQQUNFOlxuICAgICAgaW5wdXRIYW5kbGVyLmNvbnN1bWUoKTtcbiAgICAgIHJldHVybiB0aGlzLmhhcmREcm9wVGV0cmltaW5vKCk7XG5cbiAgICBjYXNlIEtleS5VUF9BUlJPVzpcbiAgICBjYXNlIEtleS5YOlxuICAgICAgaW5wdXRIYW5kbGVyLmNvbnN1bWUoKTtcbiAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRldHJpbWlubyhESVJFQ1RJT04uQ0xPQ0tXSVNFLCB0aW1lc3RhbXApO1xuXG4gICAgZGVmYXVsdDogcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgcm90YXRlVGV0cmltaW5vKGRpcmVjdGlvbiwgdGltZXN0YW1wKSB7XG4gICAgY29uc3QgeyBnYW1lLCBsb2NrRXhwaXJ5IH0gPSB0aGlzO1xuICAgIGNvbnN0IG5leHQgPSBnYW1lLnJvdGF0ZVRldHJpbWlubyhkaXJlY3Rpb24pO1xuXG4gICAgaWYgKG5leHQgPT09IHRoaXMuZ2FtZSkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKGxvY2tFeHBpcnkpIHtcbiAgICAgIHRoaXMubG9ja0V4cGlyeSA9IHRpbWVzdGFtcCArIExPQ0tfREVMQVk7XG4gICAgICAtLXRoaXMubW92ZXNMZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEdyYXZpdHlTdGF0ZSh7IC4uLnRoaXMsIGdhbWU6IG5leHQgfSk7XG4gIH1cblxuICB1cGRhdGUodGltZXN0YW1wKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBuZXcgR3Jhdml0eVN0YXRlKHRoaXMpO1xuICAgIGNvbnN0IHsgc3RhcnRlZEF0IH0gPSBzdGF0ZTtcbiAgICBsZXQgeyBnYW1lIH0gPSBzdGF0ZTtcblxuICAgIGlmICghc3RhcnRlZEF0KSBzdGF0ZS5zdGFydGVkQXQgPSB0aW1lc3RhbXA7XG4gICAgaWYgKCFnYW1lLnRldHJpbWlubykgZ2FtZSA9IGdhbWUuc2hpZnRRdWV1ZSgpO1xuICAgIGlmICghZ2FtZS5pc1ZhbGlkQ2h1bmsoZ2FtZS50ZXRyaW1pbm8pKSB7XG4gICAgICByZXR1cm4gbmV3IEdhbWVPdmVyU3RhdGUoeyBnYW1lIH0pO1xuICAgIH1cblxuICAgIGdhbWUgPSBzdGF0ZS5hcHBseUdyYXZpdHkoZ2FtZSwgdGltZXN0YW1wKTtcbiAgICBpZiAoZ2FtZS5pc1ZhbGlkQ2h1bmsoZ2FtZS50ZXRyaW1pbm8ubW92ZShESVJFQ1RJT04uRE9XTikpKSB7XG4gICAgICByZXR1cm4gbmV3IEdyYXZpdHlTdGF0ZSh7IC4uLnN0YXRlLCBnYW1lLCBsb2NrRXhwaXJ5OiAwIH0pO1xuICAgIH0gZWxzZSBpZiAoIXN0YXRlLmxvY2tFeHBpcnkpIHtcbiAgICAgIHJldHVybiBuZXcgR3Jhdml0eVN0YXRlKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGdhbWUsXG4gICAgICAgIGxvY2tFeHBpcnk6IHRpbWVzdGFtcCArIExPQ0tfREVMQVksXG4gICAgICAgIG1vdmVzTGVmdDogMTUsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcCA+IHN0YXRlLmxvY2tFeHBpcnkgfHwgIXN0YXRlLm1vdmVzTGVmdCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5lc0NsZWFyU3RhdGUoe1xuICAgICAgICBnYW1lOiBnYW1lLmxvY2tUZXRyaW1pbm8oKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgU1RBUlRfTEVWRUw6ICdTVEFSVF9MRVZFTCcsXG59O1xuIiwiaW1wb3J0IEdyYXZpdHlTdGF0ZSBmcm9tICdtb2RlbHMvc3RhdGVzL2dyYXZpdHknO1xuaW1wb3J0IEtleSBmcm9tICdlbnVtcy9rZXknO1xuaW1wb3J0IE1lbnUgZnJvbSAnZW51bXMvbWVudSc7XG5pbXBvcnQgU3RhdGUgZnJvbSAnZW51bXMvc3RhdGUnO1xuXG5jb25zdCBtZW51ID0gW1xuICBNZW51LlNUQVJUX0xFVkVMLFxuICBNZW51Lk5FV19HQU1FLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV3R2FtZVN0YXRlIHtcbiAgY29uc3RydWN0b3IoeyBnYW1lLCBsZXZlbCA9IDAsIG1lbnVJbmRleCA9IDAgfSkge1xuICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIHRoaXMubWVudUluZGV4ID0gbWVudUluZGV4O1xuICAgIHRoaXMubmFtZSA9IFN0YXRlLk5FV19HQU1FO1xuICB9XG5cbiAgcHJvY2Vzc0lucHV0KGlucHV0SGFuZGxlcikge1xuICAgIGNvbnN0IHsgZ2FtZSB9ID0gdGhpcztcblxuICAgIHN3aXRjaCAoaW5wdXRIYW5kbGVyLnJlYWQoKSkge1xuICAgIGNhc2UgS2V5LkVOVEVSOlxuICAgICAgaW5wdXRIYW5kbGVyLmNvbnN1bWUoKTtcbiAgICAgIGlmIChtZW51W3RoaXMubWVudUluZGV4XSAhPT0gTWVudS5ORVdfR0FNRSkgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gbmV3IEdyYXZpdHlTdGF0ZSh7XG4gICAgICAgIGdhbWU6IGdhbWUucmVzZXQoeyBsZXZlbDogdGhpcy5sZXZlbCB9KS5pbml0UXVldWUoMSlcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBLZXkuRE9XTl9BUlJPVzpcbiAgICAgIGlucHV0SGFuZGxlci5jb25zdW1lKCk7XG4gICAgICBpZiAodGhpcy5tZW51SW5kZXggPT09IG1lbnUubGVuZ3RoIC0gMSkgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gbmV3IE5ld0dhbWVTdGF0ZSh7IC4uLnRoaXMsIG1lbnVJbmRleDogdGhpcy5tZW51SW5kZXggKyAxIH0pO1xuXG4gICAgY2FzZSBLZXkuTEVGVF9BUlJPVzpcbiAgICAgIGlucHV0SGFuZGxlci5jb25zdW1lKCk7XG4gICAgICBpZiAobWVudVt0aGlzLm1lbnVJbmRleF0gIT09IE1lbnUuU1RBUlRfTEVWRUwgfHwgIXRoaXMubGV2ZWwpIHJldHVybiB0aGlzO1xuICAgICAgcmV0dXJuIG5ldyBOZXdHYW1lU3RhdGUoeyAuLi50aGlzLCBsZXZlbDogdGhpcy5sZXZlbCAtIDEgfSk7XG5cbiAgICBjYXNlIEtleS5SSUdIVF9BUlJPVzpcbiAgICAgIGlucHV0SGFuZGxlci5jb25zdW1lKCk7XG4gICAgICBpZiAobWVudVt0aGlzLm1lbnVJbmRleF0gIT09IE1lbnUuU1RBUlRfTEVWRUxcbiAgICAgICAgfHwgdGhpcy5sZXZlbCA9PT0gMTkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IE5ld0dhbWVTdGF0ZSh7IC4uLnRoaXMsIGxldmVsOiB0aGlzLmxldmVsICsgMSB9KTtcblxuICAgIGNhc2UgS2V5LlVQX0FSUk9XOlxuICAgICAgaW5wdXRIYW5kbGVyLmNvbnN1bWUoKTtcbiAgICAgIGlmICghdGhpcy5tZW51SW5kZXgpIHJldHVybiB0aGlzO1xuICAgICAgcmV0dXJuIG5ldyBOZXdHYW1lU3RhdGUoeyAuLi50aGlzLCBtZW51SW5kZXg6IHRoaXMubWVudUluZGV4IC0gMSB9KTtcblxuICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwiaW1wb3J0IENvcmUgZnJvbSAnbW9kZWxzL2NvcmUnO1xuaW1wb3J0IEdhbWUgZnJvbSAnbW9kZWxzL2dhbWUnO1xuaW1wb3J0IGdhbWVCb3lSZW5kZXJlciBmcm9tICdtb2RlbHMvcmVuZGVyZXJzL2dhbWUtYm95JztcbmltcG9ydCBJbnB1dHNIYW5kbGVyIGZyb20gJ21vZGVscy9pbnB1dHMtaGFuZGxlcic7XG5pbXBvcnQgTmV3R2FtZVN0YXRlIGZyb20gJ21vZGVscy9zdGF0ZXMvbmV3LWdhbWUnO1xuaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xuXG5jb25zdCBpbnB1dHNIYW5kbGVyID0gbmV3IElucHV0c0hhbmRsZXIoZG9jdW1lbnQuYm9keSk7XG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbmNvbnN0IHJlbmRlcmVyID0gZ2FtZUJveVJlbmRlcmVyKHsgLi4uZ2FtZSB9KTtcbmNvbnN0IHN0YXRlID0gbmV3IE5ld0dhbWVTdGF0ZSh7IGdhbWUgfSk7XG5jb25zdCBjb3JlID0gbmV3IENvcmUoeyBpbnB1dHNIYW5kbGVyLCByZW5kZXJlciwgc3RhdGUgfSk7XG5cbmNvcmUubG9vcCgpO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BGQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7O0FBWEE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7Ozs7OztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQ0E7QUFVQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBakJBO0FBb0JBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFJQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUhBO0FBS0E7Ozs7QUFuQkE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFVQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7OztBQXFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRkE7QUFRQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQU1BO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBckJBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFEQTtBQWlCQTtBQXRCQTtBQUNBO0FBR0E7QUFBQTtBQW1CQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUVBO0FBRkE7QUFJQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFPQTs7O0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFMQTtBQU1BO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFGQTtBQUlBOzs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFEQTtBQUpBO0FBV0E7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7OztBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUF0T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7QUFQQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Ozs7QUFzRkE7OztBQzFLQTs7Ozs7QUFLQTtBQUNBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUFRQTtBQVFBO0FBUUE7QUF6U0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBSEE7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOURBO0FBQ0E7QUFnRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBT0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQU9BO0FBQ0E7QUFNQTtBQU9BO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXhCQTtBQTBCQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUEyQkE7QUFuREE7QUFxREE7Ozs7Ozs7Ozs7OztBQ3hoQkE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFqQkE7Ozs7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBOzs7Ozs7Ozs7Ozs7OztBQ0RBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUFBO0FBVkE7QUFZQTs7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRkE7QUFJQTs7O0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFEQTtBQUdBOzs7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7OztBQUVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWpDQTtBQW1DQTs7O0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBREE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7QUNsSkE7QUFDQTtBQURBOzs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBL0JBO0FBaUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')}]);